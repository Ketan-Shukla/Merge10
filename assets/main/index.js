System.register("chunks:///_virtual/AppRoot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameAssets.ts","./AudioPlayer.ts","./SaveSystem.ts","./ModalWindowManager.ts"],(function(e){var t,n,i,a,s,r,o,u,l,c,p,d,g,m,f,h,y,v,A;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,s=e.createClass,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){u=e.cclegacy,l=e._decorator,c=e.JsonAsset,p=e.Prefab,d=e.Camera,g=e.director,m=e.Component,f=e.instantiate},function(e){h=e.GameAssets},function(e){y=e.AudioPlayer},function(e){v=e.SaveSystem},function(e){A=e.ModalWindowManager}],execute:function(){var b,w,D,M,P,S,k,z,C,R,U,L,T,W,F,G;u._RF.push({},"4943dSvt9FBvLizJ1HhFOzg","AppRoot",void 0);var _=l.ccclass,j=l.property;e("AppRoot",(b=_("AppRoot"),w=j(y),D=j(c),M=j(c),P=j(p),S=j(d),k=j(A),b(((G=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,i(t,"audio",R,a(t)),i(t,"settingsAsset",U,a(t)),i(t,"engTranslationAsset",L,a(t)),i(t,"gameAssetsPrefab",T,a(t)),i(t,"mainCamera",W,a(t)),i(t,"modalWindowManager",F,a(t)),t.saveSystem=void 0,t.liveUserData=void 0,t.gameAssets=void 0,t}n(t,e);var u=t.prototype;return u.saveUserData=function(){this.saveSystem.save(this.liveUserData)},u.start=function(){null==t.Instance?(t.instance=this,g.addPersistRootNode(this.node),this.init()):this.node.destroy()},u.update=function(e){},u.init=function(){var e=r(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.saveSystem=new v,this.liveUserData=this.saveSystem.load(),(t=f(this.gameAssetsPrefab)).setParent(this.node),this.gameAssets=t.getComponent(h),this.gameAssets.init(),this.audio.init(this.LiveUserData.soundVolume,this.LiveUserData.musicVolume);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s(t,[{key:"AudioPlayer",get:function(){return this.audio}},{key:"GameAssets",get:function(){return this.gameAssets}},{key:"LiveUserData",get:function(){return this.liveUserData}},{key:"Settings",get:function(){return this.settingsAsset.json}},{key:"TranslationData",get:function(){return this.engTranslationAsset.json}},{key:"ModalWindowManager",get:function(){return this.modalWindowManager}},{key:"MainCamera",get:function(){return this.mainCamera}}],[{key:"Instance",get:function(){return this.instance}}]),t}(m)).instance=void 0,R=t((C=G).prototype,"audio",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=t(C.prototype,"settingsAsset",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(C.prototype,"engTranslationAsset",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(C.prototype,"gameAssetsPrefab",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(C.prototype,"mainCamera",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(C.prototype,"modalWindowManager",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=C))||z));u._RF.pop()}}}));

System.register("chunks:///_virtual/AppRootUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AsyncUtils.ts","./AppRoot.ts"],(function(e){var n,t,o,r,c;return{setters:[function(e){n=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){o=e.cclegacy},function(e){r=e.delay},function(e){c=e.AppRoot}],execute:function(){function s(){return(s=n(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Waiting for app root");case 1:if(null!=c.Instance){e.next=6;break}return e.next=4,r(10);case 4:e.next=1;break;case 6:c.Instance.node.setSiblingIndex(1e3),c.Instance.node.active=!1,c.Instance.node.active=!0,console.log("App root ready");case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e("requireAppRootAsync",(function(){return s.apply(this,arguments)})),o._RF.push({},"43cfbVDTGJMNrso8wey4dKA","AppRootUtils",void 0),o._RF.pop()}}}));

System.register("chunks:///_virtual/ArrayUtils.ts",["cc"],(function(t){var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){t("shuffle",(function(t){for(var r=[].concat(t),c=r.length-1;c>0;c--){var n=Math.floor(Math.random()*(c+1)),e=[r[n],r[c]];r[c]=e[0],r[n]=e[1]}return r})),r._RF.push({},"4cd53HZVBlEDYgMNs4P4ylV","ArrayUtils",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/AssetManagerWrapper.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ConsoleLogger.ts"],(function(e){var n,o,t,a,l;return{setters:[function(e){n=e.createClass},function(e){o=e.cclegacy,t=e._decorator,a=e.assetManager},function(e){l=e.default}],execute:function(){var r,c;o._RF.push({},"da634jL/+pMHboatycHIV1V","AssetManagerWrapper",void 0);var s=t.ccclass;e("default",s(((c=function(){function e(){}var o=e.prototype;return o.loadBundle=function(e,n){a.loadBundle(e,(function(o,t){if(o)return l.instance.error("Failed to load bundle: "+e,o),void n(o,null);l.instance.info("Bundle loaded: "+e),n(null,t)}))},o.loadResource=function(e,n,o,t){e.load(n,o,(function(e,o){if(e)return l.instance.error("Failed to load resource: "+n,e),void t(e,null);l.instance.info("Resource loaded: "+n),t(null,o)}))},o.loadScene=function(e,n,o){e.loadScene(n,(function(e,t){if(e)return l.instance.error("Failed to load scene: "+n,e),void o(e,null);l.instance.info("Scene loaded: "+n),o(null,t)}))},o.releaseResource=function(e){a.releaseAsset(e),l.instance.info("Resource released: "+e.name)},o.releaseBundle=function(e){e.releaseAll(),l.instance.info("All resources released from bundle: "+e.name)},o.removeBundle=function(e){a.removeBundle(e),l.instance.info("Bundle removed: "+e.name)},n(e,null,[{key:"instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}())._instance=null,r=c))||r);o._RF.pop()}}}));

System.register("chunks:///_virtual/AsyncUtils.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,r;return{setters:[function(e){n=e.asyncToGenerator,t=e.regeneratorRuntime},function(e){r=e.cclegacy}],execute:function(){function u(){return(u=n(t().mark((function e(n){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){return setTimeout(e,n)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e("delay",(function(e){return u.apply(this,arguments)})),r._RF.push({},"a920eXh9GlPS62B+ifUnwOJ","AsyncUtils",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/AudioAssets.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,n,o,s,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,c=t.AudioClip,u=t.Component}],execute:function(){var a,l,p,A,d;o._RF.push({},"20793WnayxKkrU5an4AntLg","AudioAssets",void 0);var f=s.ccclass,y=s.property;t("AudioAssets",(a=f("AudioAssets"),l=y(c),a((d=e((A=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return e=t.call.apply(t,[this].concat(o))||this,r(e,"buttonClick",d,n(e)),e}return i(e,t),e}(u)).prototype,"buttonClick",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=A))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/AudioPlayer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var u,o,i,t,r,n,c,s,l;return{setters:[function(e){u=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,t=e.assertThisInitialized,r=e.createClass},function(e){n=e.cclegacy,c=e._decorator,s=e.AudioSource,l=e.Component}],execute:function(){var a,p,m,d,y,S,h;n._RF.push({},"958e24+jRZMdr5ue2HNRuRM","AudioPlayer",void 0);var f=c.ccclass,v=c.property;e("AudioPlayer",(a=f("AudioPlayer"),p=v(s),m=v(s),a((S=u((y=function(e){function u(){for(var u,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return u=e.call.apply(e,[this].concat(r))||this,i(u,"soundSource",S,t(u)),i(u,"musicSource",h,t(u)),u}o(u,e);var n=u.prototype;return n.init=function(e,u){this.setSoundVolume(e),this.setMusicVolume(u)},n.setSoundVolume=function(e){this.soundSource.volume=e},n.setMusicVolume=function(e){this.musicSource.volume=e},n.playSound=function(e){this.soundSource.playOneShot(e)},n.playMusic=function(e){this.musicSource.stop(),this.musicSource.clip=e,this.musicSource.play()},r(u,[{key:"SoundVolume",get:function(){return this.soundSource.volume}},{key:"MusicVolume",get:function(){return this.musicSource.volume}}]),u}(l)).prototype,"soundSource",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=u(y.prototype,"musicSource",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=y))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/AudioSettingsModalWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppRoot.ts","./ModalWindow.ts","./UIButton.ts"],(function(e){var o,i,t,n,s,u,l,r,d,a;return{setters:[function(e){o=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,u=e._decorator,l=e.Slider},function(e){r=e.AppRoot},function(e){d=e.ModalWindow},function(e){a=e.UIButton}],execute:function(){var c,p,m,h,S,V,f,g,y;s._RF.push({},"0c0521PyCxK/6XtpzF/acnv","AudioSettingsModalWindow",void 0);var v=u.ccclass,A=u.property;e("AudioSettingsModalWindow",(c=v("AudioSettingsModalWindow"),p=A(l),m=A(l),h=A(a),c((f=o((V=function(e){function o(){for(var o,i=arguments.length,s=new Array(i),u=0;u<i;u++)s[u]=arguments[u];return o=e.call.apply(e,[this].concat(s))||this,t(o,"soundVolumeSlider",f,n(o)),t(o,"musicVolumeSlider",g,n(o)),t(o,"okButton",y,n(o)),o}i(o,e);var s=o.prototype;return s.setup=function(){this.soundVolumeSlider.progress=r.Instance.AudioPlayer.SoundVolume,this.musicVolumeSlider.progress=r.Instance.AudioPlayer.MusicVolume,this.soundVolumeSlider.node.on("slide",this.updateSoundVolume,this),this.musicVolumeSlider.node.on("slide",this.updateMusicVolume,this),this.okButton.InteractedEvent.on(this.dismiss,this)},s.updateSoundVolume=function(){r.Instance.AudioPlayer.setSoundVolume(this.soundVolumeSlider.progress)},s.updateMusicVolume=function(){r.Instance.AudioPlayer.setMusicVolume(this.musicVolumeSlider.progress)},s.dismiss=function(o){e.prototype.dismiss.call(this,o);var i=r.Instance.LiveUserData;i.musicVolume=this.musicVolumeSlider.progress,i.soundVolume=this.soundVolumeSlider.progress,r.Instance.saveUserData()},o}(d)).prototype,"soundVolumeSlider",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=o(V.prototype,"musicVolumeSlider",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=o(V.prototype,"okButton",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=V))||S));s._RF.pop()}}}));

System.register("chunks:///_virtual/BlockSpawner.ts",["cc","./TileItemUI.ts","./GameConstants.ts","./NumberGenerator.ts"],(function(e){var t,i,r,n,o,a,s;return{setters:[function(e){t=e.cclegacy,i=e._decorator,r=e.instantiate},function(e){n=e.TileItemUI},function(e){o=e.EnTileType,a=e.EnMechanicType},function(e){s=e.default}],execute:function(){var c;t._RF.push({},"aa257jxQllMHoFc0PQUlplH","BlockSpawner",void 0);var u=i.ccclass;i.property,e("default",u(c=function(){function e(e,t,i,r){this.blockPrefab=void 0,this.iceTilePrefab=void 0,this.gameBoard=void 0,this.tileSprites=void 0,this.numberGenerator=void 0,this.blockPrefab=e,this.gameBoard=i,this.tileSprites=r,this.numberGenerator=new s,this.iceTilePrefab=t}var t=e.prototype;return t.spawnBlock=function(e,t){var i=o.Normal,a=r(this.getPrefab(i)),s=Math.floor(7*Math.random())+1;return a.getComponent(n).init({row:e,col:t,tilenumber:s,tileSprite:this.tileSprites.getIconByNumber(s),tileType:i}),this.gameBoard.addChild(a),a},t.getPrefab=function(e){return e==o.Normal?this.blockPrefab:this.iceTilePrefab},t.spawnBlockWithNum=function(e,t,i,o){var a=r(this.getPrefab(o));return a.getComponent(n).init({row:e,col:t,tilenumber:i,tileSprite:this.tileSprites.getIconByNumber(i),tileType:o}),this.gameBoard.addChild(a),a},t.spawnUpcomingTile=function(e){var t=this.spawnBlock(0,0);return t.setPosition(e.position),t},t.spawnNewRow=function(e,t){switch(e){case a.HighEnder:return this.getHighEnders(t);case a.Ice:return this.getIceRow(t)}return[]},t.getHighEnders=function(e){for(var t=[],i=this.numberGenerator.generateRandomHighNos(e+1),r=0;r<=e;r++)t.push(this.spawnBlockWithNum(0,r,i.pop(),o.Normal));return t},t.getIceRow=function(e){for(var t=[],i=this.numberGenerator.generateRandomNos(e+1),r=0;r<=e;r++)t.push(this.spawnBlockWithNum(0,r,i.pop(),o.Ice));return t},e}())||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/ChestModalWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ModalWindow.ts","./UIButton.ts","./LevelUpSkill.ts"],(function(t){var e,n,i,l,o,r,a,s,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,l=t.assertThisInitialized},function(t){o=t.cclegacy,r=t._decorator,a=t.randomRangeInt},function(t){s=t.ModalWindow},function(t){u=t.UIButton},function(t){c=t.LevelUpSkill}],execute:function(){var p,d,h,f,v,g,w;o._RF.push({},"422c899zDhMapxhQgwpGmEL","ChestModalWindow",void 0);var y=r.ccclass,b=r.property;t("ChestModalWindow",(p=y("ChestModalWindow"),d=b(c),h=b(u),p((g=e((v=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"levelUpSkill",g,l(e)),i(e,"okButton",w,l(e)),e}return n(e,t),e.prototype.setup=function(t){var e=this,n=a(0,t.availableUpgrades.length-1),i=t.availableUpgrades[n];this.levelUpSkill.init(i,t.translationData),this.okButton.InteractedEvent.on((function(){return e.dismiss(i)}),this)},e}(s)).prototype,"levelUpSkill",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(v.prototype,"okButton",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=v))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/ConsoleLogger.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,o;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy,o=e._decorator}],execute:function(){var r,i;n._RF.push({},"0d80aP1ejhGhbBbCYP2k0Yr","ConsoleLogger",void 0);var a=o.ccclass;e("default",a(((i=function(){function e(){this._logLevel=e.LOG_LEVEL.DEBUG}var n=e.prototype;return n.setLogLevel=function(e){this._logLevel=e,this.debug("Log level set to: "+e)},n.debug=function(t){if(this._logLevel<=e.LOG_LEVEL.DEBUG){for(var n,o=arguments.length,r=new Array(o>1?o-1:0),i=1;i<o;i++)r[i-1]=arguments[i];(n=console).log.apply(n,["[DEBUG] "+this.getTimestamp()+" - "+t].concat(r))}},n.info=function(t){if(this._logLevel<=e.LOG_LEVEL.INFO){for(var n,o=arguments.length,r=new Array(o>1?o-1:0),i=1;i<o;i++)r[i-1]=arguments[i];(n=console).info.apply(n,["[INFO] "+this.getTimestamp()+" - "+t].concat(r))}},n.warn=function(t){if(this._logLevel<=e.LOG_LEVEL.WARN){for(var n,o=arguments.length,r=new Array(o>1?o-1:0),i=1;i<o;i++)r[i-1]=arguments[i];(n=console).warn.apply(n,["[WARN] "+this.getTimestamp()+" - "+t].concat(r))}},n.error=function(t){if(this._logLevel<=e.LOG_LEVEL.ERROR){for(var n,o=arguments.length,r=new Array(o>1?o-1:0),i=1;i<o;i++)r[i-1]=arguments[i];(n=console).error.apply(n,["[ERROR] "+this.getTimestamp()+" - "+t].concat(r))}},n.getTimestamp=function(){var e=new Date;return e.toLocaleDateString()+" "+e.toLocaleTimeString()},t(e,null,[{key:"instance",get:function(){return this._instance||(this._instance=new e),this._instance}}]),e}())._instance=null,i.LOG_LEVEL={DEBUG:0,INFO:1,WARN:2,ERROR:3,NONE:4},r=i))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/Game.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppRoot.ts","./AppRootUtils.ts","./AsyncUtils.ts","./GameAudioAdapter.ts","./KeyboardInput.ts","./MultiInput.ts","./VirtualJoystic.ts","./GameModalLauncher.ts","./Pauser.ts","./GameUI.ts","./Upgrader.ts","./UnitLevel.ts","./GameBoardManager.ts"],(function(e){var t,a,i,n,r,s,o,u,l,c,p,m,h,g,f,d,v,y,b,A,R,w,G,C,I,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,r=e.createClass,s=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){u=e.cclegacy,l=e._decorator,c=e.Canvas,p=e.Node,m=e.Component,h=e.KeyCode},function(e){g=e.AppRoot},function(e){f=e.requireAppRootAsync},function(e){d=e.delay},function(e){v=e.GameAudioAdapter},function(e){y=e.KeyboardInput},function(e){b=e.MultiInput},function(e){A=e.VirtualJoystic},function(e){R=e.GameModalLauncher},function(e){w=e.Pauser},function(e){G=e.GameUI},function(e){C=e.Upgrader},function(e){I=e.UnitLevel},function(e){L=e.default}],execute:function(){var x,P,k,M,U,_,E,B,D,z,S,W,J,K,T,O;u._RF.push({},"5faa9kT4WdAFJLecGHhA+VX","Game",void 0);var F=l.ccclass,Y=l.property,H=(e("Game",(x=F("Game"),P=Y(A),k=Y(G),M=Y(c),U=Y(v),_=Y(p),E=Y(L),x(((O=function(e){function t(){for(var t,a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(t,"virtualJoystic",z,n(t)),i(t,"gameUI",S,n(t)),i(t,"gameCanvas",W,n(t)),i(t,"gameAudioAdapter",J,n(t)),i(t,"blackScreen",K,n(t)),i(t,"gameBoard",T,n(t)),t.gamePauser=new w,t.gameResult=void 0,t.gameLevels=void 0,t.timeAlive=0,t}a(t,e);var u=t.prototype;return u.getCurrentLevelData=function(){return this.gameLevels[this.gameBoard.getCurrentLevel()]},u.getLevelMechanic=function(){return this.gameBoard.getMechanic()},u.start=function(){this.gamePauser.pause(),t.instance=this,this.blackScreen.active=!0},u.play=function(){var e=s(o().mark((function e(a,i,n,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.setup(a,i,n,r);case 2:this.gamePauser.resume(),this.blackScreen.active=!1;case 4:if(this.gameResult.hasExitManually){e.next=9;break}return e.next=7,d(100);case 7:e.next=4;break;case 9:if(this.gameBoard.ChooseSkillEvent.off(this.showLevelCompletePopup),this.gamePauser.pause(),t.instance=null,this.gameResult.score=this.timeAlive,this.gameResult.hasExitManually){e.next=19;break}return this.gameResult.sessionData=null,e.next=17,d(2e3);case 17:e.next=19;break;case 19:return e.abrupt("return",this.gameResult);case 20:case"end":return e.stop()}}),e,this)})));return function(t,a,i,n){return e.apply(this,arguments)}}(),u.exitGame=function(){this.gameResult.hasExitManually=!0},u.startGame=function(){this.gameBoard.startNewGame()},u.update=function(e){this.gamePauser.IsPaused||(this.timeAlive+=e,this.gameUI.updateTimeAlive(this.timeAlive))},u.setup=function(){var e=s(o().mark((function e(t,a,i,n){var r,s,u,l,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:this.gameCanvas.cameraComponent=g.Instance.MainCamera,this.gameResult=new H,this.virtualJoystic.init(),r=new y(h.KEY_W,h.KEY_S,h.KEY_A,h.KEY_D),s=new y(h.ARROW_UP,h.ARROW_DOWN,h.ARROW_LEFT,h.ARROW_RIGHT),new b([this.virtualJoystic,r,s]),u=new C(a.upgrades),l=new R(g.Instance.ModalWindowManager,this.gamePauser,u,i),c=new I([10,20,30,40,50,60,70,80,90,100,112,116,130,146,154,174,196,220],1.5),this.gameUI.init(l,this.gameResult,c),this.startGame(),this.gameBoard.ChooseSkillEvent.on(this.showLevelCompletePopup,this),n&&(this.timeAlive+=n.startTime),this.gameAudioAdapter.init();case 16:case"end":return e.stop()}}),e,this)})));return function(t,a,i,n){return e.apply(this,arguments)}}(),u.showLevelCompletePopup=function(e){this.gameResult.sessionData=e,this.gameUI.showLevelCompletePopup(e)},r(t,null,[{key:"Instance",get:function(){return this.instance}}]),t}(m)).instance=void 0,z=t((D=O).prototype,"virtualJoystic",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=t(D.prototype,"gameUI",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(D.prototype,"gameCanvas",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(D.prototype,"gameAudioAdapter",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(D.prototype,"blackScreen",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(D.prototype,"gameBoard",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=D))||B)),e("GameResult",(function(){this.hasExitManually=!1,this.goldCoins=0,this.score=0,this.sessionData=void 0})));u._RF.pop()}}}));

System.register("chunks:///_virtual/GameAssets.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioAssets.ts","./MetaUpgradeIcons.ts"],(function(e){var t,s,n,i,r,a,o,c,u,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,o=e._decorator,c=e.Component},function(e){u=e.AudioAssets},function(e){l=e.MetaUpgradeIcons}],execute:function(){var p,d,f,g,A,h,m;a._RF.push({},"564e96LsN1Hzbs2aO5hhzLF","GameAssets",void 0);var y=o.ccclass,b=o.property;e("GameAssets",(p=y("GameAssets"),d=b(l),f=b(u),p((h=t((A=function(e){function t(){for(var t,s=arguments.length,r=new Array(s),a=0;a<s;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"metaUpgradeIcons",h,i(t)),n(t,"audioAssets",m,i(t)),t}return s(t,e),t.prototype.init=function(){this.metaUpgradeIcons.init()},r(t,[{key:"MetaUpgradeIcons",get:function(){return this.metaUpgradeIcons}},{key:"AudioAssets",get:function(){return this.audioAssets}}]),t}(c)).prototype,"metaUpgradeIcons",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(A.prototype,"audioAssets",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=A))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameAudioAdapter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppRoot.ts"],(function(e){var i,l,t,a,n,r,o,u,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,l=e.inheritsLoose,t=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){n=e.cclegacy,r=e._decorator,o=e.AudioClip,u=e.Component},function(e){p=e.AppRoot}],execute:function(){var c,y,b,d,s,h,m,P,f,g,w,z,A,k,v,H,L,S,j,D,G,I,M,R,_,x,E,F,U,C,J;n._RF.push({},"eb842QdTMFOUJEdwMiA7AJN","GameAudioAdapter",void 0);var T=r.ccclass,B=r.property;e("GameAudioAdapter",(c=T("GameAudioAdapter"),y=B(o),b=B(o),d=B(o),s=B(o),h=B(o),m=B(o),P=B(o),f=B(o),g=B(o),w=B(o),z=B(o),A=B(o),k=B(o),v=B(o),c((S=i((L=function(e){function i(){for(var i,l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return i=e.call.apply(e,[this].concat(n))||this,t(i,"music",S,a(i)),t(i,"enemyHit",j,a(i)),t(i,"playerHit",D,a(i)),t(i,"playerDeath",G,a(i)),t(i,"weaponSwing",I,a(i)),t(i,"xpPickup",M,a(i)),t(i,"goldPickup",R,a(i)),t(i,"healthPotionPickup",_,a(i)),t(i,"magnetPickup",x,a(i)),t(i,"chestPickup",E,a(i)),t(i,"levelUp",F,a(i)),t(i,"horizontalProjectileLaunch",U,a(i)),t(i,"diagonalProjectileLaunch",C,a(i)),t(i,"haloProjectileLaunch",J,a(i)),i.audioPlayer=void 0,i}l(i,e);var n=i.prototype;return n.init=function(){p.Instance.AudioPlayer.playMusic(this.music),this.audioPlayer=p.Instance.AudioPlayer},n.addEnemyListeners=function(){},n.tryPlayPlayerHitSound=function(e){e<0&&this.audioPlayer.playSound(this.playerHit)},n.playEnemyHitSound=function(){this.audioPlayer.playSound(this.enemyHit)},n.playPickupItemSound=function(e){this.audioPlayer.playSound(undefined)},i}(u)).prototype,"music",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=i(L.prototype,"enemyHit",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(L.prototype,"playerHit",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=i(L.prototype,"playerDeath",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(L.prototype,"weaponSwing",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(L.prototype,"xpPickup",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=i(L.prototype,"goldPickup",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(L.prototype,"healthPotionPickup",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(L.prototype,"magnetPickup",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=i(L.prototype,"chestPickup",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(L.prototype,"levelUp",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=i(L.prototype,"horizontalProjectileLaunch",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=i(L.prototype,"diagonalProjectileLaunch",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=i(L.prototype,"haloProjectileLaunch",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=L))||H));n._RF.pop()}}}));

System.register("chunks:///_virtual/GameBoardManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BlockSpawner.ts","./MatchChecker.ts","./TileItemUI.ts","./ScoreManager.ts","./GameModels.ts","./GridManager.ts","./TileAnimationManager.ts","./SerialisedAssets.ts","./Signal.ts","./TurnManager.ts"],(function(e){var t,i,n,r,o,a,s,c,l,u,p,h,g,f,d,m,w,b,y,M,v,S,T,k,C,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass,a=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){c=e.cclegacy,l=e._decorator,u=e.Prefab,p=e.Node,h=e.Button,g=e.Vec2,f=e.Vec3,d=e.Component},function(e){m=e.default},function(e){w=e.default},function(e){b=e.TileItemUI},function(e){y=e.default},function(e){M=e.PositionData,v=e.EnGameType},function(e){S=e.GridManager},function(e){T=e.TileAnimationManager},function(e){k=e.SerialisedAssets},function(e){C=e.Signal},function(e){P=e.TurnManager}],execute:function(){var B,x,R,z,N,G,A,D,L,I,U,E,O,q,_,Y,F,H,V,j,J,K,Q,W,X,Z,$,ee,te,ie,ne;c._RF.push({},"82f31CwLepDy4SyiPOlUCRP","GameBoardManager",void 0);var re=l.ccclass,oe=l.property;e("default",(B=oe(u),x=oe(u),R=oe(Number),z=oe(Number),N=oe(Number),G=oe(p),A=oe(p),D=oe(p),L=oe(p),I=oe(h),U=oe(g),E=oe(y),O=oe(Number),q=oe(k),re(((ne=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"blockPrefab",F,r(t)),n(t,"iceTilePrefab",H,r(t)),n(t,"gridSize",V,r(t)),n(t,"tileSpacing",j,r(t)),n(t,"tileSpacingY",J,r(t)),n(t,"gameBoard",K,r(t)),n(t,"targetPositionBottomRow",Q,r(t)),n(t,"targetPositionLeftMostCol",W,r(t)),n(t,"upcomingTileNode",X,r(t)),n(t,"playBtn",Z,r(t)),n(t,"tileItemSize",$,r(t)),n(t,"scoreManager",ee,r(t)),n(t,"dropSpeed",te,r(t)),n(t,"tileSprites",ie,r(t)),t.levelCompleteEvent=new C,t.gridManager=void 0,t.animationManager=void 0,t.uiManager=void 0,t.blockSpawner=void 0,t.turnManager=void 0,t.matchChecker=void 0,t.nextTile=void 0,t.bottomLeftTilePos=void 0,t.positionData=void 0,t.isBusy=!1,t.turnConfig=void 0,t}i(t,e);var c=t.prototype;return c.Speed=function(){return this.dropSpeed},c.start=function(){t.Instance=this,this.positionData=new M(new f(this.targetPositionLeftMostCol.position.x,this.targetPositionBottomRow.position.y,0),this.tileItemSize.x,this.tileItemSize.y,this.tileSpacing,this.tileSpacingY),this.blockSpawner=new m(this.blockPrefab,this.iceTilePrefab,this.gameBoard,this.tileSprites),this.gridManager=new S(this.gridSize,this.positionData,this.blockSpawner),this.turnManager=new P,this.scoreManager.init(this.turnManager.createTurnsArray()),this.turnConfig=this.turnManager.createTurnsArray(),this.animationManager=new T,this.bottomLeftTilePos=new f(this.targetPositionLeftMostCol.position.x,this.targetPositionBottomRow.position.y,0),this.matchChecker=new w(this.gridManager,this.scoreManager,this.positionData)},c.startNewGame=function(){var e=a(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.cleanUp(),this.gridManager.createGrid(),this.spawnInitialBlocks(),this.spawnUpcomingTile(),this.isBusy=!1;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.onClickPlayBtn=function(){this.playBtn.node.parent.active=!1,this.startNewGame()},c.cleanUp=function(){this.gameBoard.destroyAllChildren()},c.onLevelComplete=function(){this.levelCompleteEvent.trigger(this.getSessionData())},c.getSessionData=function(){return{gameType:v.SOLO,score:this.scoreManager.getScore(),highScore:this.scoreManager.getHighScore(),averageScore:this.scoreManager.getAverageScore(),noOfSequence:this.scoreManager.getSequenceScore(),levelReached:this.scoreManager.getLevel(),blocksDropped:this.scoreManager.getBlocksDropped(),maxSequence:this.scoreManager.getMaxSequence()}},c.onClickColumnSelected=function(e,t){console.log(t),this.isBusy||(this.isBusy=!0,this.scoreManager.updateThrows(),this.onColumnSelected(Number(t)))},c.spawnUpcomingTile=function(){this.nextTile=this.blockSpawner.spawnUpcomingTile(this.upcomingTileNode)},c.spawnInitialBlocks=function(){for(var e=Math.floor(5*Math.random()),t=0;t<3;t++)this.spawnBlockAtRandomColumn();for(var i=0;i<e;i++)this.spawnBlockAtRandomColumn()},c.spawnBlockAtRandomColumn=function(){var e=a(s().mark((function e(){var t,i,n,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.getRandomColumn(),-1!==(i=this.gridManager.findBottommostEmptyRow(t))){e.next=4;break}return e.abrupt("return");case 4:return n=this.blockSpawner.spawnBlock(i,t),this.gridManager.updateCell(i,t,n),r=this.gridManager.getTilePosition(i,t),n.setPosition(r),e.next=10,this.applyGravityAndProcessMatches();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.applyGravityAndProcessMatches=function(){var e=a(s().mark((function e(){var t,i;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!0,i=0;case 2:if(!t){e.next=11;break}return e.next=5,this.applyGravity();case 5:return e.next=7,this.matchChecker.checkMatches();case 7:(t=e.sent)&&i++,e.next=2;break;case 11:this.scoreManager.updateSequenceScore(i),this.scoreManager.showSequenceTooltip(this.targetPositionBottomRow,i);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.applyGravity=function(){var e=a(s().mark((function e(){var t,i,n,r,o,a,c,l,u;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=[],i=this.gridManager.getGrid(),n=0;n<i[0].length;n++)for(r=-1,o=0;o<i.length;o++)i[o][n]?-1!==r&&(a=i[o][n],i[r][n]=a,i[o][n]=null,c=a.getComponent(b),l=this.tileSprites.getIconByNumber(c.TileNum),c.init({row:r,col:n,tilenumber:c.TileNum,tileSprite:l,tileType:c.getTileType()}),u=this.gridManager.getTilePosition(r,n),t.push(this.animationManager.animateTileDrop(a,a.position,u,this.dropSpeed,(function(e){}))),r++):-1===r&&(r=o);return e.next=5,Promise.all(t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.getRandomColumn=function(){return Math.floor(Math.random()*this.gridSize)},c.onColumnSelected=function(e){var t=this.gridManager.findBottommostEmptyRow(e);this.nextTile.getComponent(b).SetRowCol(t,e),this.spawnBlockSpecifiedPosition(t,e,this.nextTile)},c.spawnBlockSpecifiedPosition=function(){var e=a(s().mark((function e(t,i,n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gridManager.updateCell(t,i,n),r=this.gridManager.getTilePosition(t,i),n.setPosition(new f(r.x,this.upcomingTileNode.position.y,this.upcomingTileNode.position.z)),e.next=5,this.animationManager.animateTileDrop(n,n.position,r,this.dropSpeed,(function(e){}));case 5:return e.next=7,this.applyGravityAndProcessMatches();case 7:if(this.spawnUpcomingTile(),this.scoreManager.incBlocksDropped(),!this.gridManager.CheckIfNoEmptyPlaces()){e.next=12;break}return this.onLevelComplete(),e.abrupt("return");case 12:if(!(this.scoreManager.getTurns()<=0)){e.next=16;break}return e.next=15,this.spawnNewRow();case 15:this.scoreManager.updateThrows();case 16:this.isBusy=!1;case 17:case"end":return e.stop()}}),e,this)})));return function(t,i,n){return e.apply(this,arguments)}}(),c.spawnNewRow=function(){var e=a(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.gridManager.shiftRowsUpAndSpawnNewRow();case 2:return t=e.sent,e.next=5,this.animateUpwardShift(t);case 5:if(!this.gridManager.isOutOfBounds){e.next=9;break}return console.log("Game Over triggered by outOfBounds row shift"),this.onLevelComplete(),e.abrupt("return");case 9:return e.next=11,this.applyGravityAndProcessMatches();case 11:this.scoreManager.initalizeThrows();case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.animateUpwardShift=function(){var e=a(s().mark((function e(t){var i,n,r,o,a,c,l,u,p;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n in i=[],t)r=t[n],o=r.block,a=r.oldRow,c=r.newRow,l=r.col,u=this.getTilePositionByRowCol(a,l),p=this.getTilePositionByRowCol(c,l),o.setPosition(u),i.push(this.animationManager.animateTileDrop(o,u,p,this.dropSpeed,(function(e){})));return e.next=4,Promise.all(i);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),c.getTilePositionByRowCol=function(e,t){return this.gridManager.getTilePosition(e,t)},c.getCurrentLevel=function(){return this.scoreManager.getLevel()},c.getTurnConfig=function(){return this.turnConfig},c.getMechanic=function(){return this.turnConfig[this.scoreManager.getLevel()].mechanic},o(t,[{key:"ChooseSkillEvent",get:function(){return this.levelCompleteEvent}}]),t}(d)).Instance=void 0,F=t((Y=ne).prototype,"blockPrefab",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(Y.prototype,"iceTilePrefab",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(Y.prototype,"gridSize",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),j=t(Y.prototype,"tileSpacing",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),J=t(Y.prototype,"tileSpacingY",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),K=t(Y.prototype,"gameBoard",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(Y.prototype,"targetPositionBottomRow",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(Y.prototype,"targetPositionLeftMostCol",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(Y.prototype,"upcomingTileNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(Y.prototype,"playBtn",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(Y.prototype,"tileItemSize",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new g(113,117)}}),ee=t(Y.prototype,"scoreManager",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=t(Y.prototype,"dropSpeed",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),ie=t(Y.prototype,"tileSprites",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=Y))||_));c._RF.pop()}}}));

System.register("chunks:///_virtual/GameConstants.ts",["cc"],(function(e){var i,n;return{setters:[function(e){i=e.cclegacy,n=e.Vec2}],execute:function(){i._RF.push({},"62244ErrxhM7KBL7Skfhm6D","GameConstants",void 0);var c=e("SCREEN_WIDTH",510),r=e("SCREEN_HEIGHT",680);e("SCREEN_HALF_WIDTH",c/2),e("SCREEN_HALF_HEIGHT",r/2);e("LevelData",(function(){})).Turns=[];e("EnMechanicType",function(e){return e[e.HighEnder=0]="HighEnder",e[e.Ice=1]="Ice",e[e.Brick=2]="Brick",e}({})),e("GridConstants",(function(){this.GridSize=7,this.TileSpacingX=2,this.TileSpacingY=5,this.DropSpeed=1e3,this.TileSize=new n(113,117)})),e("EnTileType",function(e){return e[e.Normal=0]="Normal",e[e.Ice=1]="Ice",e[e.Brick=2]="Brick",e}({})),e("EnTileAnimation",function(e){return e.IceTileCrackAppear="AnimIceTile",e.IceTileBreak="AnimIceTileBreak",e.IceTileSpawn="AnimIceTileSpawn",e}({}));i._RF.pop()}}}));

System.register("chunks:///_virtual/GameModalLauncher.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Game.ts","./GameModalWindowTypes.ts","./LevelCompleteModalWindow.ts"],(function(e){var n,a,t,r,o,s;return{setters:[function(e){n=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){t=e.cclegacy},function(e){r=e.Game},function(e){o=e.GameModalWindowTypes},function(e){s=e.LevelCompleteModalWindow}],execute:function(){t._RF.push({},"19da7miMLJNc4P7s+8XveTX","GameModalLauncher",void 0);e("GameModalLauncher",function(){function e(e,n,a,t){this.modalWindowManager=e,this.gamePauser=n,this.upgrader=a,this.translationData=t}var t=e.prototype;return t.showPauseModal=function(){var e=n(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gamePauser.pause(),e.next=3,this.modalWindowManager.showModal(o.Pause,this.modalWindowManager);case 3:e.sent?r.Instance.exitGame():r.Instance.startGame();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.showLevelCompletePopup=function(){var e=n(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gamePauser.pause(),e.next=3,this.modalWindowManager.showPopup(s,o.LevelComplete,this.modalWindowManager,n);case 3:e.sent?r.Instance.exitGame():(this.gamePauser.resume(),r.Instance.startGame());case 5:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}(),e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/GameModalWindowTypes.ts",["cc"],(function(e){var o;return{setters:[function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"72fb4NJe3NB4a16TVCrz8H6","GameModalWindowTypes",void 0);e("GameModalWindowTypes",function(e){return e.LevelUp="LevelUpModalWindow",e.Chest="ChestModalWindow",e.Pause="PauseModalWindow",e.LevelComplete="PfLevelComplete",e}({}));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameModels.ts",["cc"],(function(t){var i,e;return{setters:[function(t){i=t.cclegacy,e=t.Vec3}],execute:function(){i._RF.push({},"ae8f2eelOFL9ZuSj14wdVRM","GameModels",void 0);t("PositionData",(function(t,i,s,n,c){this.leftBottomPos=e.ZERO,this.tileWidth=113,this.tileHeight=117,this.tileSpacing=10,this.tileSpacingY=5,this.leftBottomPos=t,this.tileHeight=s,this.tileWidth=i,this.tileSpacing=n,this.tileSpacingY=c})),t("MatchResultData",function(){function t(t,i,e){this.sum=0,this.isMatch=!1,this.matchedBlocks=[],this.sum=t,this.isMatch=i,this.matchedBlocks=e}return t.prototype.set=function(t,i,e){this.sum=t,this.isMatch=i,this.matchedBlocks=e},t}()),t("SpriteTypes",function(t){return t.Nine="NINE",t.Eight="EIGHT",t.Seven="SEVEN",t.Six="SIX",t.Five="FIVE",t.Four="FOUR",t.Three="THREE",t.Two="TWO",t.One="ONE",t.ICE="ICE",t.IceCracked="ICE_CRACKED",t.Blocker="BLOCKER",t}({})),t("ItemType",function(t){return t[t.Coin=0]="Coin",t}({})),t("EnGameType",function(t){return t.SOLO="SOLO",t.PUZZLE="PUZZLE",t}({}));i._RF.pop()}}}));

System.register("chunks:///_virtual/GameRunner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppRoot.ts","./Game.ts","./AsyncUtils.ts"],(function(e){var n,t,a,s,r,c,i,o;return{setters:[function(e){n=e.createClass,t=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,r=e.director},function(e){c=e.AppRoot},function(e){i=e.Game},function(e){o=e.delay}],execute:function(){var u;s._RF.push({},"c3869g4LTpKIqL0d9EagibV","GameRunner",void 0);var l=e("GameRunner",function(){function e(){this.isRunning=!1}return e.prototype.playGame=function(){var e=t(a().mark((function e(){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.isRunning=!0,r.loadScene("Game"),n=c.Instance.LiveUserData;case 3:if(null!=i.Instance){e.next=8;break}return e.next=6,o(10);case 6:e.next=3;break;case 8:return e.next=10,i.Instance.play(n,c.Instance.Settings,c.Instance.TranslationData);case 10:t=e.sent,n.game.goldCoins+=t.goldCoins,n.game.highscore<t.sessionData.score&&(n.game.highscore=t.sessionData.score),n.game.maxLevelReached<t.sessionData.levelReached&&(n.game.maxLevelReached=t.sessionData.levelReached),c.Instance.saveUserData(),r.loadScene("Menu"),this.isRunning=!1;case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n(e,[{key:"IsRunning",get:function(){return this.isRunning}}],[{key:"Instance",get:function(){return this.instance}}]),e}());u=l,l.instance=new u,s._RF.pop()}}}));

System.register("chunks:///_virtual/GameSettings.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"5f9b9/asvpMk6Mohpkji98J","GameSettings",void 0);e("GameSettings",(function(){this.player=new i,this.upgrades=new r,this.metaUpgrades=new c,this.enemyManager=new w,this.items=new f}));var i=e("PlayerSettings",(function(){this.defaultHP=0,this.requiredXP=[],this.speed=0,this.regenerationDelay=0,this.collisionDelay=0,this.magnetDuration=0,this.weapon=new n,this.haloLauncher=new a,this.horizontalLauncher=new s,this.diagonalLauncher=new s})),n=e("WeaponSettings",(function(){this.strikeDelay=0,this.damage=0})),s=e("WaveLauncherSettings",(function(){this.wavesToShootPerUpgrade=0,this.launcher=new o})),a=e("HaloLauncherSettings",(function(){this.projectilesToSpawn=0,this.cooldownDivisorPerUpgrade=0,this.launcher=new o})),h=e("EnemyLauncherSettings",(function(){this.enemyIds=[],this.projectileLifetime=0,this.projectileSpeed=0,this.projectileDamage=0,this.cooldown=0})),o=e("ProjectileLauncherSettings",(function(){this.projectileLifetime=0,this.projectileSpeed=0,this.wavesToShoot=0,this.wavesDelayMs=0,this.cooldown=0})),r=e("UpgradeSettings",(function(){this.maxWeaponLengthUpgrades=0,this.maxWeaponDamageUpgrades=0,this.maxHorizontalProjectileUpgrades=0,this.maxDiagonalProjectileUpgrades=0,this.maxHaloProjectileUpgrades=0,this.maxRegenerationUpgrades=0})),c=e("MetaUpgradesSettings",(function(){this.health=new l,this.overallDamage=new l,this.projectilePiercing=new l,this.movementSpeed=new l,this.xpGatherer=new l,this.goldGatherer=new l})),l=e("MetaUpgradeSettings",(function(){this.costs=[],this.bonuses=[]})),w=e("EnemyManagerSettings",(function(){this.axeLauncher=new h,this.magicOrbLauncher=new h,this.enemies=[new S],this.periodicFollowMovers=[new g],this.individualEnemySpawners=[new d],this.circularEnemySpawners=[new u],this.waveEnemySpawners=[new p]})),g=e("PeriodicFollowMoverSettings",(function(){this.enemyIdToAffect="",this.followTime=0,this.waitTime=0})),m=e("GeneralEnemySpawnerSettings",(function(){this.enemyId="",this.startDelay=0,this.stopDelay=0,this.cooldown=0})),p=e("WaveEnemySpawnerSettings",(function(){this.common=new m,this.enemiesToSpawn=0})),u=e("CircularEnemySpawnerSettings",(function(){this.common=new m,this.enemiesToSpawn=0})),d=e("IndividualEnemySpawnerSettings",(function(){this.common=new m})),S=e("EnemySettings",(function(){this.id="",this.moveType="",this.graphicsType="",this.health=0,this.damage=0,this.speed=0,this.lifetime=0,this.xpReward=0,this.goldReward=0,this.healthPotionRewardChance=0,this.magnetRewardChance=0,this.chestRewardChance=0})),f=e("ItemSettings",(function(){this.healthPerPotion=0}));t._RF.pop()}}}));

System.register("chunks:///_virtual/GameTimer.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"93024LYFAZP4J3Xa3AOz/Rx","GameTimer",void 0);t("GameTimer",function(){function t(t){this.targetDelay=void 0,this.currentDelay=0,this.targetDelay=t}var e=t.prototype;return e.gameTick=function(t){this.currentDelay+=t},e.tryFinishPeriod=function(){return this.targetDelay<=this.currentDelay&&(this.currentDelay=0,!0)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/GameUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIButton.ts","./GameModels.ts","./ConsoleLogger.ts"],(function(e){var t,i,o,n,r,l,a,s,u,p,h,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,a=e.ProgressBar,s=e.Label,u=e.Component},function(e){p=e.UIButton},function(e){h=e.ItemType},function(e){c=e.default}],execute:function(){var d,v,f,g,m,L,y,b,w,B,P;r._RF.push({},"2e3934mbwxGZ64mwdThAm0I","GameUI",void 0);var I=l.ccclass,x=l.property;e("GameUI",(d=I("GameUI"),v=x(a),f=x(s),g=x(s),m=x(p),d((b=t((y=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,o(t,"xpBar",b,n(t)),o(t,"timeAliveText",w,n(t)),o(t,"goldLabel",B,n(t)),o(t,"pauseBtn",P,n(t)),t.playerLevel=void 0,t.modalLauncher=void 0,t.gameResult=void 0,t}i(t,e);var r=t.prototype;return r.init=function(e,t,i){var o;this.modalLauncher=e,this.gameResult=t,this.playerLevel=i,this.playerLevel.XpAddedEvent.on(this.updateProgressBar,this),this.playerLevel.LevelUpEvent.on(this.updateProgressBar,this),null==(o=this.pauseBtn)||null==(o=o.InteractedEvent)||o.on(this.showPauseWindow,this),this.xpBar.progress=0},r.onDisable=function(){var e;this.playerLevel.XpAddedEvent.off(this.updateProgressBar),this.playerLevel.LevelUpEvent.off(this.updateProgressBar),null==(e=this.pauseBtn)||null==(e=e.InteractedEvent)||e.off(this.showPauseWindow)},r.updateProgressBar=function(){this.xpBar.progress=this.playerLevel.XP/this.playerLevel.RequiredXP},r.tryUpdateGoldLabel=function(e){e===h.Coin&&(this.goldLabel.string=this.gameResult.goldCoins.toString())},r.showPauseWindow=function(){console.log("Show pause window"),this.modalLauncher.showPauseModal()},r.showLevelCompletePopup=function(e){c.instance.debug("Show Level complete"),this.modalLauncher.showLevelCompletePopup(e)},r.updateTimeAlive=function(e){this.timeAliveText.string=""+Math.floor(e)},t}(u)).prototype,"xpBar",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(y.prototype,"timeAliveText",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(y.prototype,"goldLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(y.prototype,"pauseBtn",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=y))||L));r._RF.pop()}}}));

System.register("chunks:///_virtual/GridManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TileItemUI.ts","./Game.ts"],(function(t){var i,o,n,e,r,s,a,h;return{setters:[function(t){i=t.createClass,o=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){e=t.cclegacy,r=t._decorator,s=t.Vec3},function(t){a=t.TileItemUI},function(t){h=t.Game}],execute:function(){var c;e._RF.push({},"0ca57HFFldI5rvzxAd1hTNf","GridManager",void 0);var u=r.ccclass;t("GridManager",u("GridManager")(c=function(){function t(t,i,o){this.grid=void 0,this.gridSize=void 0,this.positionData=void 0,this.spawner=void 0,this.isOutOfBounds=!1,this.gridSize=t,this.positionData=i,this.spawner=o,this.createGrid()}var e=t.prototype;return e.getGrid=function(){return this.grid},e.createGrid=function(){this.grid=[];for(var t=0;t<this.gridSize;t++){this.grid[t]=[];for(var i=0;i<this.gridSize;i++)this.grid[t][i]=null}},e.getTilePosition=function(t,i){return new s(this.positionData.leftBottomPos.x+i*(this.positionData.tileWidth+this.positionData.tileSpacing),this.positionData.leftBottomPos.y+t*(this.positionData.tileHeight+this.positionData.tileSpacingY),0)},e.findBottommostEmptyRow=function(t){for(var i=0;i<this.gridSize;i++)if(!this.grid[i][t])return i;return-1},e.updateCell=function(t,i,o){this.grid[t][i]=o},e.clearCell=function(t,i){this.grid[t][i]&&this.grid[t][i].getComponent(a).checkForDestoryCondition()&&(this.grid[t][i]=null)},e.getBlock=function(t,i){return this.grid[t][i]},e.CheckIfNoEmptyPlaces=function(){for(var t=0;t<this.gridSize;t++){if(-1!=this.findBottommostEmptyRow(t))return!1}return!0},e.shiftRowsUpAndSpawnNewRow=function(){var t=o(n().mark((function t(){var i,o,e,r,c,u,d,g,l,f,p,w,m,v,R,S;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(this.isOutOfBounds=!1,i=this.gridSize-1,o=this.grid[i],o.some((function(t){return null!==t}))&&(this.isOutOfBounds=!0),e={},r=0,c=i;c>0;c--)for(this.grid[c]=this.grid[c-1],u=0;u<this.gridSize;u++)(d=this.grid[c][u])&&(g=d.getComponent(a),l=g.Row,f=g.Col,g.SetRowCol(c,f),e[r++]={block:d,oldRow:l,newRow:c,col:f});for(p=this.spawner.spawnNewRow(h.Instance.getLevelMechanic(),this.gridSize-1),w=0;w<this.gridSize;w++)m=new s(p[w].position.x,p[w].position.y,p[w].position.z),m=new s(m.x,m.y-(this.positionData.tileHeight+this.positionData.tileSpacingY),m.z),v=p[w],R=v.getComponent(a),-1,S=R.Col,p[w].setPosition(m),e[r++]={block:v,oldRow:-1,newRow:R.Row,col:S};return this.grid[0]=p,t.abrupt("return",e);case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i(t,[{key:"RowLen",get:function(){return this.grid.length}},{key:"ColLen",get:function(){return this.grid[0].length}}]),t}())||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/GroupType.ts",["cc"],(function(E){var e;return{setters:[function(E){e=E.cclegacy}],execute:function(){e._RF.push({},"99f17nqqu1OVZ5ltNXkX8mX","GroupType",void 0);E("GroupType",function(E){return E[E.DEFAULT=1]="DEFAULT",E[E.PLAYER=2]="PLAYER",E[E.ENEMY=4]="ENEMY",E[E.WEAPON=8]="WEAPON",E[E.ITEM=16]="ITEM",E[E.PLAYER_PROJECTILE=32]="PLAYER_PROJECTILE",E[E.ENEMY_PROJECTILE=64]="ENEMY_PROJECTILE",E[E.MAGNET_RANGE=128]="MAGNET_RANGE",E}({}));e._RF.pop()}}}));

System.register("chunks:///_virtual/IceTileUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TileItemUI.ts","./GameModels.ts","./GameConstants.ts","./ConsoleLogger.ts","./SerialisedAssets.ts"],(function(e){var t,n,i,r,a,o,c,s,u,l,p,f,m,h,I,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){c=e.cclegacy,s=e._decorator,u=e.Sprite,l=e.Animation},function(e){p=e.TileItemUI},function(e){f=e.SpriteTypes},function(e){m=e.EnTileAnimation,h=e.EnTileType},function(e){I=e.default},function(e){T=e.SerialisedAssets}],execute:function(){var y,S,d,v,k;c._RF.push({},"9a861ZfzPBAO7XfpqxlnCul","IceTileUI",void 0);var E=s.ccclass,A=s.property,b=e("EnIceTileState",function(e){return e[e.Unbroken=0]="Unbroken",e[e.Cracked=1]="Cracked",e[e.Broken=2]="Broken",e}({}));e("IceTileUI",(y=E("IceTileUI"),S=A(u),y((k=t((v=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"iceSprite",k,r(t)),t.tileState=void 0,t}n(t,e);var c=t.prototype;return c.init=function(t){e.prototype.init.call(this,t),I.instance.debug("IceTileUI Tile Init Called!"),this._markForDeletion=!1,this.iceSprite.color.set(255,255,255,255),this.tileState=b.Unbroken,this.animation.play(m.IceTileSpawn)},c.canBeDeleted=function(){return this._markForDeletion},c.playIdleAnimation=function(){this.playIceTileSpawnAnim()},c.getTileState=function(){return this.tileState},c.playIceTileProgressAnim=function(){var e=a(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._tileMatched++,I.instance.debug("Tile Matched: "+this.TileNum+" "+this._tileMatched+", State: "+this.tileState.toString()),2!=this._tileMatched){e.next=12;break}return this._markForDeletion=!0,this._tileType=h.Normal,this.tileState=b.Broken,I.instance.debug("Tile is breaking!"),e.next=9,this.playIceTileBreakAnim();case 9:return e.abrupt("return",!0);case 12:return I.instance.debug("Tile is cracking!"),this.tileState=b.Cracked,e.next=16,this.playIceTileCrackAppearAnim();case 16:return e.abrupt("return",!1);case 17:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.playIceTileBreakAnim=function(){var e=a(o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=function n(){t.animation.off(l.EventType.PAUSE,n,t),t.animation.off(l.EventType.FINISHED,n,t),t.iceSprite.color.set(255,255,255,0),e(!1)};t.animation.on(l.EventType.PAUSE,n,t),t.animation.on(l.EventType.FINISHED,n,t),t.animation.play(m.IceTileBreak)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c.playIceTileCrackAppearAnim=function(){var e=a(o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){var n=function n(){t.animation.off(l.EventType.PAUSE,n,t),t.animation.off(l.EventType.FINISHED,n,t),t.iceSprite.spriteFrame=T.instance.getIcon(f.IceCracked),e(!1)};t.animation.on(l.EventType.PAUSE,n,t),t.animation.on(l.EventType.FINISHED,n,t),t.animation.play(m.IceTileCrackAppear)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c.playIceTileSpawnAnim=function(){var e=a(o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){t.animation.on(l.EventType.FINISHED,(function n(){t.animation.off(l.EventType.FINISHED,n,t),I.instance.debug("PRinttttttt animation finished"),e()}),t),t.animation.play(m.IceTileSpawn)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c.checkForDestoryCondition=function(){return this._markForDeletion},t}(p)).prototype,"iceSprite",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=v))||d));c._RF.pop()}}}));

System.register("chunks:///_virtual/IInput.ts",["cc"],(function(){var t;return{setters:[function(u){t=u.cclegacy}],execute:function(){t._RF.push({},"b82abZ+1yBP662pB7ZwSiuI","IInput",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/InputHandler.ts",["cc"],(function(t){var e,i,o;return{setters:[function(t){e=t.cclegacy,i=t._decorator,o=t.view}],execute:function(){var r;e._RF.push({},"01806AhrqZPjrtODynaKKLz","InputHandler",void 0);var n=i.ccclass;i.property,t("default",n(r=function(){function t(t,e,i){this.gridSize=void 0,this.onColumnSelected=void 0,this.gridTouchNode=void 0,this.gridSize=t,this.onColumnSelected=i,this.gridTouchNode=e,this.registerInput()}var e=t.prototype;return e.registerInput=function(){},e.onTouchStart=function(t){var e=t.getLocation(),i=Math.floor(e.x/(o.getVisibleSize().width/this.gridSize));this.onColumnSelected(i)},t}())||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/ISignal.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"804a4PjX8hFmpusgUCG4lfo","ISignal",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/KeyboardInput.ts",["cc"],(function(i){var s,t;return{setters:[function(i){s=i.cclegacy,t=i.Vec2}],execute:function(){s._RF.push({},"14d49iLCLxKDpfnsGt4saGA","KeyboardInput",void 0);i("KeyboardInput",function(){function i(i,s,t,e){this.xAxis=0,this.yAxis=0,this.up=void 0,this.down=void 0,this.left=void 0,this.right=void 0,this.up=i,this.down=s,this.left=t,this.right=e}var s=i.prototype;return s.getAxis=function(){return new t(this.xAxis,this.yAxis).normalize()},s.onKeyDown=function(i){switch(i.keyCode){case this.up:this.yAxis=1;break;case this.down:this.yAxis=-1;break;case this.left:this.xAxis=-1;break;case this.right:this.xAxis=1}},s.onKeyUp=function(i){switch(i.keyCode){case this.up:this.yAxis=1===this.yAxis?0:this.yAxis;break;case this.down:this.yAxis=-1===this.yAxis?0:this.yAxis;break;case this.left:this.xAxis=-1===this.xAxis?0:this.xAxis;break;case this.right:this.xAxis=1===this.xAxis?0:this.xAxis}},i}());s._RF.pop()}}}));

System.register("chunks:///_virtual/LevelCompleteModalWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ModalWindow.ts","./UIButton.ts"],(function(e){var n,t,i,o,l,r,a,c,u,s;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){l=e.cclegacy,r=e._decorator,a=e.Label,c=e.Node},function(e){u=e.ModalWindow},function(e){s=e.UIButton}],execute:function(){var b,p,f,h,d,g,m,L,v,y,w,z,S,W,B,M,D,I,R,q,G;l._RF.push({},"e454faom/FI4YRvlWq4VfvV","LevelCompleteModalWindow",void 0);var k=r.ccclass,T=r.property;e("LevelCompleteModalWindow",(b=k("LevelCompleteModalWindow"),p=T(s),f=T(a),h=T(a),d=T(a),g=T(a),m=T(a),L=T(a),v=T(a),y=T(c),b((S=n((z=function(e){function n(){for(var n,t=arguments.length,l=new Array(t),r=0;r<t;r++)l[r]=arguments[r];return n=e.call.apply(e,[this].concat(l))||this,i(n,"continueBtn",S,o(n)),i(n,"gameTypeLabel",W,o(n)),i(n,"scoreLabel",B,o(n)),i(n,"highScoreLabel",M,o(n)),i(n,"averageScoreLabel",D,o(n)),i(n,"sequenceLabel",I,o(n)),i(n,"levelReachedLabel",R,o(n)),i(n,"blocksDroppedLabel",q,o(n)),i(n,"gameOverPanel",G,o(n)),n.modalWindowManager=void 0,n}t(n,e);var l=n.prototype;return l.setup=function(e,n){this.modalWindowManager=e,this.gameTypeLabel.string=n.gameType,this.scoreLabel.string=""+n.score,this.highScoreLabel.string=""+n.highScore,this.averageScoreLabel.string=""+n.noOfSequence,this.sequenceLabel.string=""+n.maxSequence,this.levelReachedLabel.string=""+n.levelReached,this.blocksDroppedLabel.string=""+n.blocksDropped,this.continueBtn.InteractedEvent.on(this.continueGame,this),this.closeButton.InteractedEvent.on(this.closeGame,this)},l.openSettingsWindow=function(){},l.continueGame=function(){this.dismiss(!1)},l.closeGame=function(){this.dismiss(!0)},l.onDisable=function(){this.continueBtn.InteractedEvent.off(this.continueGame),this.closeButton.InteractedEvent.off(this.closeGame)},n}(u)).prototype,"continueBtn",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=n(z.prototype,"gameTypeLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=n(z.prototype,"scoreLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(z.prototype,"highScoreLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(z.prototype,"averageScoreLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(z.prototype,"sequenceLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(z.prototype,"levelReachedLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=n(z.prototype,"blocksDroppedLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(z.prototype,"gameOverPanel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=z))||w));l._RF.pop()}}}));

System.register("chunks:///_virtual/LevelUpModalWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ModalWindow.ts","./ArrayUtils.ts","./AsyncUtils.ts","./LevelUpSkill.ts"],(function(e){var t,n,i,a,r,o,l,s,c,u,p,d,f,h,v,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,c=e.Prefab,u=e.Node,p=e.instantiate,d=e.Vec3},function(e){f=e.ModalWindow},function(e){h=e.shuffle},function(e){v=e.delay},function(e){g=e.LevelUpSkill}],execute:function(){var k,b,y,P,U,w,m;l._RF.push({},"f7ac68qK+pC7LXQWJdgAYVs","LevelUpModalWindow",void 0);var L=s.ccclass,x=s.property;e("LevelUpModalWindow",(k=L("LevelUpModalWindow"),b=x(c),y=x(u),k((w=t((U=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"skillPrefab",w,a(t)),i(t,"skillParent",m,a(t)),t.maxUpgradesToPick=3,t}n(t,e);var l=t.prototype;return l.setup=function(){var e=r(o().mark((function e(t){var n,i,a,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h(t.availableUpgrades),this.maxUpgradesToPick<n.length&&(n.length=this.maxUpgradesToPick),i=[-172,0,172],e.next=5,v(300);case 5:a=0;case 6:if(!(a<n.length)){e.next=16;break}return e.next=9,v(500);case 9:(r=p(this.skillPrefab).getComponent(g)).node.setParent(this.skillParent),r.node.setPosition(new d(i[a])),r.init(n[a],t.translationData);case 13:a++,e.next=6;break;case 16:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),l.chooseSkill=function(e){this.dismiss(e)},t}(f)).prototype,"skillPrefab",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(U.prototype,"skillParent",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=U))||P)),e("LevelUpModalWindowParams",(function(){this.availableUpgrades=void 0,this.translationData=void 0}));l._RF.pop()}}}));

System.register("chunks:///_virtual/LevelUpSkill.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppRoot.ts","./Signal.ts"],(function(e){var i,l,t,n,o,r,s,c,a,p,u,k;return{setters:[function(e){i=e.applyDecoratedDescriptor,l=e.inheritsLoose,t=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createClass},function(e){r=e.cclegacy,s=e._decorator,c=e.Label,a=e.Sprite,p=e.Component},function(e){u=e.AppRoot},function(e){k=e.Signal}],execute:function(){var h,f,v,g,y,S,b,I,T;r._RF.push({},"65e26iJvE9IfYYlYC+87Y6x","LevelUpSkill",void 0);var L=s.ccclass,d=s.property;e("LevelUpSkill",(h=L("LevelUpSkill"),f=d(c),v=d(c),g=d(a),h((b=i((S=function(e){function i(){for(var i,l=arguments.length,o=new Array(l),r=0;r<l;r++)o[r]=arguments[r];return i=e.call.apply(e,[this].concat(o))||this,t(i,"skillTitle",b,n(i)),t(i,"skillDescription",I,n(i)),t(i,"skillIcon",T,n(i)),i.chooseSkillEvent=new k,i.skillType=void 0,i}l(i,e);var r=i.prototype;return r.init=function(e,i){this.skillType=e,this.skillTitle.string=""+i[e+"_TITLE"],this.skillDescription.string=""+i[e+"_DESC"],this.skillIcon.spriteFrame=u.Instance.GameAssets.UpgradeIcons.getIcon(e)},r.chooseSkill=function(){this.chooseSkillEvent.trigger(this.skillType)},o(i,[{key:"ChooseSkillEvent",get:function(){return this.chooseSkillEvent}}]),i}(p)).prototype,"skillTitle",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(S.prototype,"skillDescription",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=i(S.prototype,"skillIcon",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=S))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AppRoot.ts","./AppRootUtils.ts","./SaveSystem.ts","./GameAudioAdapter.ts","./AudioAssets.ts","./GameAssets.ts","./MetaUpgradeIcons.ts","./UpgradeIcons.ts","./GameConstants.ts","./GameSettings.ts","./TurnManager.ts","./TranslationData.ts","./UserData.ts","./Game.ts","./GroupType.ts","./IInput.ts","./KeyboardInput.ts","./MultiInput.ts","./VirtualJoystic.ts","./PickupEffect.ts","./PickupEffectManager.ts","./ChestModalWindow.ts","./GameModalLauncher.ts","./GameModalWindowTypes.ts","./LevelCompleteModalWindow.ts","./PauseModalWindow.ts","./Pauser.ts","./TestGameRunner.ts","./GameUI.ts","./LevelUpModalWindow.ts","./LevelUpSkill.ts","./UnitHealth.ts","./UnitLevel.ts","./GameBoardManager.ts","./BlockSpawner.ts","./GridManager.ts","./InputHandler.ts","./MatchChecker.ts","./NumberGenerator.ts","./TileAnimationManager.ts","./UIManager.ts","./ScoreManager.ts","./SerialisedAssets.ts","./IceTileUI.ts","./TileItemUI.ts","./GameModels.ts","./GameRunner.ts","./Menu.ts","./AudioSettingsModalWindow.ts","./MenuModalLauncher.ts","./MenuModalWindowTypes.ts","./UpgradeLevelPointUI.ts","./UpgradeUI.ts","./UpgradesModalWindow.ts","./AssetManagerWrapper.ts","./AudioPlayer.ts","./ConsoleLogger.ts","./ISignal.ts","./Signal.ts","./GameTimer.ts","./ModalWindow.ts","./ModalWindowManager.ts","./ObjectPool.ts","./RuntimeAssetKeeper.ts","./TweenAnimations.ts","./UIButton.ts","./ArrayUtils.ts","./AsyncUtils.ts","./MathUtils.ts","./StringUtils.ts","./VecUtils.ts","./UpgradeType.ts","./Upgrader.ts","./OpenCloseAnimator.ts","./UIButtonAudioPlayer.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MatchChecker.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Signal.ts","./TileItemUI.ts","./GameConstants.ts","./IceTileUI.ts"],(function(e){var t,n,r,i,o,c,s,a,l,u,h;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,r=e.regeneratorRuntime,i=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy,c=e._decorator},function(e){s=e.Signal},function(e){a=e.TileItemUI},function(e){l=e.EnTileType},function(e){u=e.IceTileUI,h=e.EnIceTileState}],execute:function(){var f;o._RF.push({},"42323htlf9K0Jl18bP/rHmD","MatchChecker",void 0);var p=c.ccclass;c.property,e("default",p(f=function(){function e(e,t,n){this.onTileMerged=new s,this.scoreManager=void 0,this.positionData=void 0,this.grid=void 0,this.grid=e,this.scoreManager=t,this.positionData=n}var o=e.prototype;return o.checkMatches=function(){var e=n(r().mark((function e(){var t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((t=this.collectAllMatchesNew()).length>0)){e.next=5;break}return e.next=4,this.processMatches(t);case 4:return e.abrupt("return",!0);case 5:return e.abrupt("return",!1);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.collectAllMatchesNew=function(){for(var e=this,t=[],n=new Set,r=function(r){if(r<e.grid.RowLen){var i=e.findMatchesInLine((function(t){return e.grid.getBlock(r,t)}),e.grid.ColLen,n);t.push.apply(t,i)}if(r<e.grid.ColLen){var o=e.findMatchesInLine((function(t){return e.grid.getBlock(t,r)}),e.grid.RowLen,n);t.push.apply(t,o)}},i=0;i<Math.max(this.grid.RowLen,this.grid.ColLen);i++)r(i);return t},o.findMatchesInLine=function(e,t,n){for(var r=[],i=0,o=0,c=[],s=0;s<t;s++){var l=e(s);if(this.checkIfBlockInvalid(l)||n.has(l))o=0,c=[],i=s+1;else if(o+=l.getComponent(a).TileNum,c.push(l),c.length>1&&c[c.length-1].getComponent(a).TileNum===c[c.length-2].getComponent(a).TileNum){var u=c.slice(-2);r.push([].concat(u)),this.DisplayScoreToolTip(u),u.forEach((function(e){return n.add(e)})),o-=2*u[0].getComponent(a).TileNum,c=[],i=s+1}else{for(;o>10&&i<=s;){o-=e(i).getComponent(a).TileNum,c.shift(),i++}10===o&&(r.push([].concat(c)),this.DisplayScoreToolTip(c),c.forEach((function(e){return n.add(e)})),o=0,c=[],i=s+1)}}return r},o.processMatches=function(){var e=n(r().mark((function e(t){var n,o,c,s,l,u,h,f,p;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],o=i(t);!(c=o()).done;)for(s=c.value,l=i(s);!(u=l()).done;)h=u.value,f=h.getComponent(a),this.grid.clearCell(f.Row,f.Col),(p=this.notifyTileNeighbors(f.Row,f.Col))&&p.length>0&&n.push.apply(n,p),n.push(f.destroyTile()),this.scoreManager.showScoreTooltip(h,5);return e.next=4,Promise.all(n);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),o.notifyTileNeighbors=function(e,t){for(var n=[],r=0,i=[{r:-1,c:0},{r:1,c:0},{r:0,c:-1},{r:0,c:1}];r<i.length;r++){var o=i[r],c=e+o.r,s=t+o.c;if(this.isValidPosition(c,s)){var a=this.grid.getBlock(c,s);if(a){var l=a.getComponent(u);l&&l.getTileState()!=h.Broken&&n.push(l.playIceTileProgressAnim())}}}return n},o.isValidPosition=function(e,t){return e>=0&&e<this.grid.RowLen&&t>=0&&t<this.grid.ColLen},o.checkIfBlockInvalid=function(e){if(!e)return!0;var t=e.getComponent(a);return t.getTileType()!=l.Normal||!t.canBeDeleted()},o.DisplayScoreToolTip=function(e){for(var t=5*e.length,n=0;n<e.length;n++){var r=e[n];this.scoreManager.showScoreTooltip(r,5)}this.scoreManager.addScore(t)},t(e,[{key:"OnTileMerged",get:function(){return this.onTileMerged}}]),e}())||f);o._RF.pop()}}}));

System.register("chunks:///_virtual/MathUtils.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){t({getDegreeAngleFromDirection:function(t,n){var e=Math.atan2(n,t)/Math.PI*180;return e<0?e+360:e},randomPositiveOrNegative:function(){return Math.random()<.5?1:-1},roundToOneDecimal:function(t){return Math.round(10*t)/10}}),n._RF.push({},"93ac2ZIsghGYpEaaIaECE4q","MathUtils",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/Menu.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppRoot.ts","./AppRootUtils.ts","./UIButton.ts","./GameRunner.ts","./MenuModalLauncher.ts"],(function(e){var t,n,a,r,i,o,s,l,u,c,p,h,d,g,f,m,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,r=e.assertThisInitialized,i=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,l=e._decorator,u=e.Node,c=e.Label,p=e.Canvas,h=e.Component},function(e){d=e.AppRoot},function(e){g=e.requireAppRootAsync},function(e){f=e.UIButton},function(e){m=e.GameRunner},function(e){v=e.MenuModalLauncher}],execute:function(){var b,y,L,w,I,C,M,A,U,G,B,S,z,P,R,D,W,x,_;s._RF.push({},"22c61zFd7hNRaAttffaS6ep","Menu",void 0);var j=l.ccclass,k=l.property;e("Menu",(b=j("Menu"),y=k(f),L=k(f),w=k(u),I=k(u),C=k(c),M=k(f),A=k(p),U=k(c),b((S=t((B=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,a(t,"playBtn",S,r(t)),a(t,"upgradeBtn",z,r(t)),a(t,"upgradeAvailableIndicator",P,r(t)),a(t,"goldCounter",R,r(t)),a(t,"goldLabel",D,r(t)),a(t,"audioSettingsBtn",W,r(t)),a(t,"menuCanvas",x,r(t)),a(t,"highscoreLabel",_,r(t)),t.menuModalLauncher=void 0,t}n(t,e);var s=t.prototype;return s.start=function(){var e=i(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:g(),this.menuCanvas.cameraComponent=d.Instance.MainCamera,this.playBtn.InteractedEvent.on(this.startGame,this),this.upgradeBtn.InteractedEvent.on(this.openUpgradesWindow,this),this.audioSettingsBtn.InteractedEvent.on(this.openAudioSettingsWindow,this),this.menuModalLauncher=new v(d.Instance.ModalWindowManager),this.highscoreLabel.string="Highscore: "+Math.floor(d.Instance.LiveUserData.game.highscore),this.updateGoldIndicators();case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.updateGoldIndicators=function(){this.upgradeAvailableIndicator.active=this.isUpgradeAffordable();var e=d.Instance.LiveUserData.game.goldCoins;this.goldCounter.active=0<e,this.goldLabel.string=e.toString()},s.isUpgradeAffordable=function(){var e=d.Instance.LiveUserData.game.goldCoins,t=d.Instance.LiveUserData.game.metaUpgrades,n=d.Instance.Settings.metaUpgrades,a=[];return this.tryPushLowestCost(t.goldGathererLevel,n.goldGatherer,a),this.tryPushLowestCost(t.healthLevel,n.health,a),this.tryPushLowestCost(t.movementSpeedLevel,n.movementSpeed,a),this.tryPushLowestCost(t.overallDamageLevel,n.overallDamage,a),this.tryPushLowestCost(t.projectilePiercingLevel,n.projectilePiercing,a),this.tryPushLowestCost(t.xpGathererLevel,n.xpGatherer,a),0<a.length&&Math.min.apply(Math,a)<=e},s.tryPushLowestCost=function(e,t,n){e<t.costs.length&&n.push(t.costs[e])},s.startGame=function(){m.Instance.playGame()},s.openUpgradesWindow=function(){var e=i(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.menuModalLauncher.openUpgradesWindow();case 2:this.updateGoldIndicators();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.openAudioSettingsWindow=function(){this.menuModalLauncher.openAudioSettingsWindow()},t}(h)).prototype,"playBtn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(B.prototype,"upgradeBtn",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(B.prototype,"upgradeAvailableIndicator",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(B.prototype,"goldCounter",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(B.prototype,"goldLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(B.prototype,"audioSettingsBtn",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(B.prototype,"menuCanvas",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(B.prototype,"highscoreLabel",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=B))||G));s._RF.pop()}}}));

System.register("chunks:///_virtual/MenuModalLauncher.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MenuModalWindowTypes.ts"],(function(n){var e,t,r,o;return{setters:[function(n){e=n.asyncToGenerator,t=n.regeneratorRuntime},function(n){r=n.cclegacy},function(n){o=n.MenuModalWindowTypes}],execute:function(){r._RF.push({},"fc622fSex1J84Wiq9uC4WOL","MenuModalLauncher",void 0);n("MenuModalLauncher",function(){function n(n){this.modalWindowManager=n}var r=n.prototype;return r.openUpgradesWindow=function(){var n=e(t().mark((function n(){return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.modalWindowManager.showModal(o.Upgrades,{});case 2:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),r.openAudioSettingsWindow=function(){var n=e(t().mark((function n(){return t().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.modalWindowManager.showModal(o.AudioSettings,{});case 2:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),n}());r._RF.pop()}}}));

System.register("chunks:///_virtual/MenuModalWindowTypes.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"5c0f4Hq9ARFKrF7Ds39Cl9x","MenuModalWindowTypes",void 0);e("MenuModalWindowTypes",function(e){return e.Upgrades="UpgradesModalWindow",e.AudioSettings="AudioSettingsModalWindow",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/MetaUpgradeIcons.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UpgradeType.ts"],(function(e){var t,r,i,o,a,n,p,l,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,n=e._decorator,p=e.SpriteFrame,l=e.Component},function(e){c=e.MetaUpgradeType}],execute:function(){var s,h,u,g,y,S,b,d,m,f,v,I,T,w,G;a._RF.push({},"b18fbEgJGZOJ6w+6tEMaD+0","MetaUpgradeIcons",void 0);var D=n.ccclass,M=n.property;e("MetaUpgradeIcons",(s=D("MetaUpgradeIcons"),h=M(p),u=M(p),g=M(p),y=M(p),S=M(p),b=M(p),s((f=t((m=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),n=0;n<r;n++)a[n]=arguments[n];return t=e.call.apply(e,[this].concat(a))||this,i(t,"healthSprite",f,o(t)),i(t,"overallDamageSprite",v,o(t)),i(t,"projectilePiercingSprite",I,o(t)),i(t,"movementSpeedSprite",T,o(t)),i(t,"xpGathererSprite",w,o(t)),i(t,"goldGathererSprite",G,o(t)),t.typeToIcon=new Map,t}r(t,e);var a=t.prototype;return a.init=function(){this.typeToIcon.set(c.Health,this.healthSprite),this.typeToIcon.set(c.OverallDamage,this.overallDamageSprite),this.typeToIcon.set(c.ProjectilePiercing,this.projectilePiercingSprite),this.typeToIcon.set(c.MovementSpeed,this.movementSpeedSprite),this.typeToIcon.set(c.XPGatherer,this.xpGathererSprite),this.typeToIcon.set(c.GoldGatherer,this.goldGathererSprite)},a.getIcon=function(e){if(!this.typeToIcon.has(e))throw new Error("Does not have upgrade type asset "+e);return this.typeToIcon.get(e)},t}(l)).prototype,"healthSprite",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(m.prototype,"overallDamageSprite",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(m.prototype,"projectilePiercingSprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(m.prototype,"movementSpeedSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(m.prototype,"xpGathererSprite",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(m.prototype,"goldGathererSprite",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=m))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/ModalWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIButton.ts","./AsyncUtils.ts"],(function(t){var n,e,i,o,r,a,s,l,u,c,p,m;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){s=t.cclegacy,l=t._decorator,u=t.Animation,c=t.Component},function(t){p=t.UIButton},function(t){m=t.delay}],execute:function(){var h,d,f,y,b,g,v;s._RF.push({},"69f01H/95hOA6GxZJCsyPsP","ModalWindow",void 0);var A=l.property;t("ModalWindow",(h=A(u),d=A(p),f=A(p),b=n((y=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,i(n,"animation",b,o(n)),i(n,"closeButton",g,o(n)),i(n,"backgroundCloseButton",v,o(n)),n.result=void 0,n.isDismissed=!1,n.openAnimationName="open",n.closeAnimationName="close",n}e(n,t);var s=n.prototype;return s.runAsync=function(){var t=r(a().mark((function t(n,e){var i,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.setup(n,e),null==(i=this.animation)||i.play(this.openAnimationName);case 2:if(this.isDismissed){t.next=7;break}return t.next=5,m(100);case 5:t.next=2;break;case 7:return null==(o=this.animation)||o.play(this.closeAnimationName),t.next=10,m(1e3*this.getCloseAnimationTime());case 10:return t.abrupt("return",this.result);case 11:case"end":return t.stop()}}),t,this)})));return function(n,e){return t.apply(this,arguments)}}(),s.dismiss=function(t){this.result=t,this.isDismissed=!0},s.getCloseAnimationTime=function(){var t,n=null==(t=this.animation)?void 0:t.getState(this.closeAnimationName);return null!=n?n.duration:0},n}(c)).prototype,"animation",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=n(y.prototype,"closeButton",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=n(y.prototype,"backgroundCloseButton",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y));s._RF.pop()}}}));

System.register("chunks:///_virtual/ModalWindowManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,r,t,a,o,i,s,u,c,p,l;return{setters:[function(n){e=n.applyDecoratedDescriptor,r=n.inheritsLoose,t=n.initializerDefineProperty,a=n.assertThisInitialized,o=n.asyncToGenerator,i=n.regeneratorRuntime},function(n){s=n.cclegacy,u=n._decorator,c=n.Prefab,p=n.Component,l=n.instantiate}],execute:function(){var f,d,h,w,v;s._RF.push({},"c623fhj2b5Cyau8MBXLOmVF","ModalWindowManager",void 0);var y=u.ccclass,b=u.property;n("ModalWindowManager",(f=y("ModalWindowManager"),d=b(c),f((v=e((w=function(n){function e(){for(var e,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return e=n.call.apply(n,[this].concat(o))||this,t(e,"availableWindows",v,a(e)),e}r(e,n);var s=e.prototype;return s.showModal=function(){var n=o(i().mark((function n(e,r,t){var a,o,s,u;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=this.availableWindows.find((function(n){return n.name===e})),(o=l(a)).setParent(this.node),s=o.getComponent(e),n.next=6,s.runAsync(r,t);case 6:return u=n.sent,o.destroy(),n.abrupt("return",u);case 9:case"end":return n.stop()}}),n,this)})));return function(e,r,t){return n.apply(this,arguments)}}(),s.showPopup=function(){var n=o(i().mark((function n(e,r,t,a){var o,s,u,c;return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=this.availableWindows.find((function(n){return n.name===r})),(s=l(o)).setParent(this.node),u=s.getComponent(e)){n.next=6;break}throw new Error("No component found for "+r);case 6:return n.next=8,u.runAsync(t,a);case 8:return c=n.sent,s.destroy(),n.abrupt("return",c);case 11:case"end":return n.stop()}}),n,this)})));return function(e,r,t,a){return n.apply(this,arguments)}}(),e}(p)).prototype,"availableWindows",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=w))||h));s._RF.pop()}}}));

System.register("chunks:///_virtual/MultiInput.ts",["cc"],(function(t){var i,n;return{setters:[function(t){i=t.cclegacy,n=t.Vec2}],execute:function(){i._RF.push({},"679d7wF37RD6IEVmvI1Iicz","MultiInput",void 0);t("MultiInput",function(){function t(t){this.inputs=void 0,this.inputs=t}return t.prototype.getAxis=function(){for(var t=0;t<this.inputs.length;t++)if(!this.inputs[t].getAxis().equals(n.ZERO))return this.inputs[t].getAxis();return new n},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/NumberGenerator.ts",["cc"],(function(r){var e,o;return{setters:[function(r){e=r.cclegacy,o=r._decorator}],execute:function(){var t;e._RF.push({},"25264ia7ONPo7g9SmIV9FJS","NumberGenerator",void 0);var n=o.ccclass;o.property,r("default",n(t=function(){function r(){}var e=r.prototype;return e.generateRandomHighNos=function(r){for(var e=[],o=[7,8,9],t=null,n=0;n<r;n++){var a=void 0;do{a=o[Math.floor(Math.random()*o.length)]}while(a===t);e.push(a),t=a}return e},e.generateRandomNos=function(r){for(var e=[],o=[1,2,3,4,5,6,7,8,9],t=null,n=0;n<r;n++){var a=void 0;do{a=o[Math.floor(Math.random()*o.length)]}while(a===t);e.push(a),t=a}return e},r}())||t);e._RF.pop()}}}));

System.register("chunks:///_virtual/ObjectPool.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,o=t.instantiate}],execute:function(){n._RF.push({},"a4ed3tMiYlPCJMDTXo66QcD","ObjectPool",void 0);t("ObjectPool",function(){function t(t,e,n,o){this.prefab=void 0,this.parent=void 0,this.pooledObjects=[],this.componentName=void 0,this.prefab=t,this.parent=e,this.componentName=o;for(var r=0;r<n;r++)this.createNew()}var e=t.prototype;return e.borrow=function(){var t=this.pooledObjects.find((function(t){return!t.IsBorrowed}));return null!=t?t.borrow():this.createNew().borrow()},e.return=function(t){var e=this.pooledObjects.find((function(e){return e.Equals(t)}));if(null==e)throw new Error("Object "+this.prefab.name+" is not a member of the pool");e.return()},e.createNew=function(){var t=new r(this.prefab,this.parent,this.componentName);return this.pooledObjects.push(t),t},t}());var r=function(){function t(t,e,n){this.isBorrowed=!1,this.defaultParent=void 0,this.instancedNode=void 0,this.instancedComponent=void 0,this.defaultParent=e,this.instancedNode=o(t),this.instancedComponent=this.instancedNode.getComponent(n),null==this.instancedComponent&&console.error("Object "+t.name+" does not have component "+n),this.clear()}var n=t.prototype;return n.Equals=function(t){return this.instancedComponent==t},n.borrow=function(){return this.isBorrowed=!0,this.instancedComponent},n.return=function(){this.clear()},n.clear=function(){this.instancedNode.active=!1,this.instancedNode.parent=this.defaultParent,this.isBorrowed=!1},e(t,[{key:"IsBorrowed",get:function(){return this.isBorrowed}}]),t}();n._RF.pop()}}}));

System.register("chunks:///_virtual/OpenCloseAnimator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AsyncUtils.ts"],(function(t){var e,n,i,a,o,r,s,c,u,p,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,o=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){s=t.cclegacy,c=t._decorator,u=t.Animation,p=t.Component},function(t){l=t.delay}],execute:function(){var h,m,f,y,d;s._RF.push({},"f9bdcLpmMdIgqWNOgetdMv1","OpenCloseAnimator",void 0);var v=c.ccclass,g=c.property;t("OpenCloseAnimator",(h=v("OpenCloseAnimator"),m=g(u),h((d=e((y=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"animation",d,a(e)),e.openStateName="Open",e.closeStateName="Close",e.openDuration=0,e.closeDuration=0,e}n(e,t);var s=e.prototype;return s.init=function(){this.openDuration=this.animation.getState(this.openStateName).duration,this.closeDuration=this.animation.getState(this.closeStateName).duration},s.playOpen=function(){var t=o(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.node.active=!0,this.animation.play(this.openStateName),t.next=4,l(1e3*this.openDuration);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.playClose=function(){var t=o(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.node.active=!0,this.animation.play(this.closeStateName),t.next=4,l(1e3*this.closeDuration);case 4:this.node.active=!1;case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(p)).prototype,"animation",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=y))||f));s._RF.pop()}}}));

System.register("chunks:///_virtual/PauseModalWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MenuModalWindowTypes.ts","./ModalWindow.ts","./UIButton.ts"],(function(t){var n,e,i,o,s,a,u,r,c;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator},function(t){u=t.MenuModalWindowTypes},function(t){r=t.ModalWindow},function(t){c=t.UIButton}],execute:function(){var d,l,h,p,f,w,g,v,b;s._RF.push({},"7951egxdo1MwZEP2TuQOLOq","PauseModalWindow",void 0);var M=a.ccclass,m=a.property;t("PauseModalWindow",(d=M("PauseModalWindow"),l=m(c),h=m(c),p=m(c),d((g=n((w=function(t){function n(){for(var n,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return n=t.call.apply(t,[this].concat(s))||this,i(n,"continueBtn",g,o(n)),i(n,"audioSettingsButton",v,o(n)),i(n,"exitBtn",b,o(n)),n.modalWindowManager=void 0,n}e(n,t);var s=n.prototype;return s.setup=function(t){this.modalWindowManager=t,this.continueBtn.InteractedEvent.on(this.continueGame,this),this.audioSettingsButton.InteractedEvent.on(this.openSettingsWindow,this),this.exitBtn.InteractedEvent.on(this.exitGame,this)},s.unSubscribeEvents=function(){this.continueBtn.InteractedEvent.off(this.continueGame),this.audioSettingsButton.InteractedEvent.off(this.openSettingsWindow),this.exitBtn.InteractedEvent.off(this.exitGame)},s.openSettingsWindow=function(){this.modalWindowManager.showModal(u.AudioSettings,{})},s.continueGame=function(){this.unSubscribeEvents(),this.dismiss(!1)},s.exitGame=function(){this.unSubscribeEvents(),this.dismiss(!0)},n}(r)).prototype,"continueBtn",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=n(w.prototype,"audioSettingsButton",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=n(w.prototype,"exitBtn",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),f=w))||f));s._RF.pop()}}}));

System.register("chunks:///_virtual/Pauser.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var s,u;return{setters:[function(e){s=e.createClass},function(e){u=e.cclegacy}],execute:function(){u._RF.push({},"d20ebZ4qvlH5r0SQ/o308m6","Pauser",void 0);e("Pauser",function(){function e(){this.isPaused=!1}var u=e.prototype;return u.pause=function(){this.isPaused=!0},u.resume=function(){this.isPaused=!1},s(e,[{key:"IsPaused",get:function(){return this.isPaused}}]),e}());u._RF.pop()}}}));

System.register("chunks:///_virtual/PickupEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var t,e,n,r,o,c,a,u;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,n=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){o=i.cclegacy,c=i._decorator,a=i.Animation,u=i.Component}],execute:function(){var p,l,s,f,y;o._RF.push({},"0f2b2zQHR5IYoIfX8uDxOwj","PickupEffect",void 0);var h=c.ccclass,m=c.property;i("PickupEffect",(p=h("PickupEffect"),l=m(a),p((y=t((f=function(i){function t(){for(var t,e=arguments.length,o=new Array(e),c=0;c<e;c++)o[c]=arguments[c];return t=i.call.apply(i,[this].concat(o))||this,n(t,"animation",y,r(t)),t}return e(t,i),t.prototype.init=function(){this.animation.play("PickBonus")},t}(u)).prototype,"animation",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=f))||s));o._RF.pop()}}}));

System.register("chunks:///_virtual/PickupEffectManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ObjectPool.ts","./AsyncUtils.ts"],(function(e){var t,n,r,o,c,i,a,f,s,u,p,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,c=e.asyncToGenerator,i=e.regeneratorRuntime},function(e){a=e.cclegacy,f=e._decorator,s=e.Prefab,u=e.Component},function(e){p=e.ObjectPool},function(e){l=e.delay}],execute:function(){var h,P,y,d,v;a._RF.push({},"65b41IfpM9H4ZfUHg0/xy7s","PickupEffectManager",void 0);var g=f.ccclass,k=f.property;e("PickupEffectManager",(h=g("PickupEffectManager"),P=k(s),h((v=t((d=function(e){function t(){for(var t,n=arguments.length,c=new Array(n),i=0;i<n;i++)c[i]=arguments[i];return t=e.call.apply(e,[this].concat(c))||this,r(t,"pickupEffect",v,o(t)),t.effectPool=void 0,t}n(t,e);var a=t.prototype;return a.init=function(){this.effectPool=new p(this.pickupEffect,this.node,5,"PickupEffect")},a.showEffect=function(){var e=c(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=this.effectPool.borrow()).node.setWorldPosition(t),r.node.active=!0,e.next=5,l(450);case 5:null==(n=this.effectPool)||n.return(r);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t}(u)).prototype,"pickupEffect",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=d))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/RuntimeAssetKeeper.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,s=e.Component}],execute:function(){var o;n._RF.push({},"ffe4emBDepAnb7ts4LNWCw5","RuntimeAssetKeeper",void 0);var u=r.ccclass;r.property,e("RuntimeAssetKeeper",u("RuntimeAssetKeeper")(o=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var r=n.prototype;return r.start=function(){},r.update=function(e){},n}(s))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/SaveSystem.ts",["cc","./UserData.ts"],(function(t){var e,r,n;return{setters:[function(t){e=t.cclegacy,r=t.sys},function(t){n=t.UserData}],execute:function(){e._RF.push({},"ed50c1LIfpKzJ/ukquvPiE0","SaveSystem",void 0);t("SaveSystem",function(){function t(){this.userDataIdentifier="user-dse"}var e=t.prototype;return e.save=function(t){r.localStorage.setItem(this.userDataIdentifier,JSON.stringify(t))},e.load=function(){var t=r.localStorage.getItem(this.userDataIdentifier);if(!t)return new n;try{return JSON.parse(t)}catch(t){return new n}},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/ScoreManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,o,i,n,s,c,u,a,h,l,g,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,s=e._decorator,c=e.Label,u=e.Prefab,a=e.sys,h=e.instantiate,l=e.Vec3,g=e.tween,p=e.Component}],execute:function(){var f,S,b,d,C,v,w,y,m,L,I,q,z;n._RF.push({},"47db7mQq/FDN4IRsIzGX+hp","ScoreManager",void 0);var P=s.ccclass,x=s.property;e("default",(f=P("ScoreManager"),S=x(c),b=x(c),d=x(c),C=x(c),v=x(u),f((m=t((y=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return t=e.call.apply(e,[this].concat(n))||this,o(t,"scoreLabel",m,i(t)),o(t,"highScoreLabel",L,i(t)),o(t,"throwsCntLabel",I,i(t)),o(t,"levelLabel",q,i(t)),o(t,"tooltipPrefab",z,i(t)),t.currentScore=0,t.highScore=0,t.throwCounter=0,t.levelCounter=0,t.savedHighScore=0,t.sequenceCounter=0,t.maxSequence=0,t.blocksDropped=0,t.turnConfig=void 0,t.highScoreKey="highScore",t}r(t,e);var n=t.prototype;return n.init=function(e){this.turnConfig=e,this.loadhighScore(),this.updateUI()},n.loadhighScore=function(){var e=this.loadHighScore();this.savedHighScore=e,this.highScore=e||0,this.throwCounter=this.turnConfig[0].turns,this.levelCounter=1},n.updateTurnsOnLevelEnd=function(){this.throwCounter=this.turnConfig[this.levelCounter].turns},n.loadHighScore=function(){try{if(a.localStorage)return parseInt(a.localStorage.getItem(this.highScoreKey))||0}catch(e){return console.warn("Storage access error. Returning 0 as high score:",e),0}},n.addScore=function(e){this.currentScore+=e,this.currentScore>this.highScore&&(this.highScore=this.currentScore,this.saveHighScore()),this.updateUI()},n.updateThrows=function(){this.throwCounter--,this.throwCounter<=0&&(this.throwCounter=0,this.levelCounter++),this.updateUI()},n.initalizeThrows=function(){this.throwCounter=this.turnConfig[this.levelCounter].turns,this.updateUI()},n.saveHighScore=function(){try{a.localStorage&&(a.localStorage.setItem(this.highScoreKey,this.highScore.toString()),console.log("New High Score Saved:",this.highScore))}catch(e){console.warn("Storage access error. High score not saved:",e)}},n.resetScore=function(){this.currentScore=0,this.updateUI()},n.updateUI=function(){this.scoreLabel.string=""+this.currentScore,this.highScoreLabel.string=""+this.highScore,this.throwsCntLabel.string=""+this.throwCounter,this.levelLabel.string=""+this.levelCounter},n.getScore=function(){return this.currentScore},n.getHighScore=function(){return this.highScore},n.getLevel=function(){return this.levelCounter},n.getBlocksDropped=function(){return this.blocksDropped},n.incBlocksDropped=function(){this.blocksDropped++},n.getTurns=function(){return this.throwCounter},n.getAverageScore=function(){return.6*this.currentScore},n.getSequenceScore=function(){return this.sequenceCounter},n.getMaxSequence=function(){return this.maxSequence},n.updateSequenceScore=function(e){e>2&&(this.sequenceCounter+=1),this.maxSequence<e&&(this.maxSequence=e)},n.showSequenceCounter=function(){this.sequenceCounter},n.showScoreTooltip=function(e,t){if(this.tooltipPrefab){var r=h(this.tooltipPrefab);r.getComponentInChildren(c).string="+"+t,r.setParent(e.parent),r.setPosition(new l(e.position.x,e.position.y+100,e.position.z)),g(r).to(.5,{position:new l(e.position.x,e.position.y+100,0)}).call((function(){return r.destroy()})).start()}},n.showSequenceTooltip=function(e,t){if(this.tooltipPrefab){var r="Amazing";if(t>7)r="Incredible";else if(t>6)r="Unbelievable";else if(t>5)r="Extraordinary";else if(t>4)r="Remarkable";else if(t>3)r="Impressive";else if(t>2)r="Outstanding";else{if(!(t>1))return;r="Amazing"}var o=h(this.tooltipPrefab);o.getComponentInChildren(c).string="x"+t+" "+r,o.setParent(e.parent),o.setPosition(new l(e.position.x,e.position.y+100,e.position.z)),g(o).to(.5,{position:new l(e.position.x,e.position.y+200,0)}).call((function(){return o.destroy()})).start()}},t}(p)).prototype,"scoreLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(y.prototype,"highScoreLabel",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(y.prototype,"throwsCntLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(y.prototype,"levelLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(y.prototype,"tooltipPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=y))||w));n._RF.pop()}}}));

System.register("chunks:///_virtual/SerialisedAssets.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameModels.ts"],(function(e){var t,i,r,n,o,s,l,p,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,l=e.SpriteFrame,p=e.Component},function(e){a=e.SpriteTypes}],execute:function(){var c,u,h,S,b,y,I,g,f,w,T,d,v,m,z,k,F,x,A,D,E,C,_,B,M,N,R,K;o._RF.push({},"a6d2duU6DlKsK8JhcR5AY+C","SerialisedAssets",void 0);var L=s.ccclass,O=s.property;e("SerialisedAssets",(c=L("SerialisedAssets"),u=O(l),h=O(l),S=O(l),b=O(l),y=O(l),I=O(l),g=O(l),f=O(l),w=O(l),T=O(l),d=O(l),v=O(l),c(((K=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,r(t,"nineSprite",k,n(t)),r(t,"eightSprite",F,n(t)),r(t,"sevenSprite",x,n(t)),r(t,"sixSprite",A,n(t)),r(t,"fiveSprite",D,n(t)),r(t,"fourSprite",E,n(t)),r(t,"threeSprite",C,n(t)),r(t,"twoSprite",_,n(t)),r(t,"oneSprite",B,n(t)),r(t,"IceSprite",M,n(t)),r(t,"crackedIceSprite",N,n(t)),r(t,"blockerprite",R,n(t)),t.typeToIcon=new Map,t}i(t,e);var o=t.prototype;return o.onEnable=function(){t.instance=this,this.init()},o.init=function(){this.typeToIcon.set(a.Nine,this.nineSprite),this.typeToIcon.set(a.Eight,this.eightSprite),this.typeToIcon.set(a.Seven,this.sevenSprite),this.typeToIcon.set(a.Six,this.sixSprite),this.typeToIcon.set(a.Five,this.fiveSprite),this.typeToIcon.set(a.Four,this.fourSprite),this.typeToIcon.set(a.Three,this.threeSprite),this.typeToIcon.set(a.Two,this.twoSprite),this.typeToIcon.set(a.One,this.oneSprite),this.typeToIcon.set(a.ICE,this.IceSprite),this.typeToIcon.set(a.IceCracked,this.crackedIceSprite),this.typeToIcon.set(a.Blocker,this.blockerprite)},o.getIcon=function(e){if(!this.typeToIcon.has(e))throw new Error("Does not have upgrade type asset "+e);return this.typeToIcon.get(e)},o.getIconByNumber=function(e){switch(e){case 9:return this.getIcon(a.Nine);case 8:return this.getIcon(a.Eight);case 7:return this.getIcon(a.Seven);case 6:return this.getIcon(a.Six);case 5:return this.getIcon(a.Five);case 4:return this.getIcon(a.Four);case 3:return this.getIcon(a.Three);case 2:return this.getIcon(a.Two);default:return this.getIcon(a.One)}},t}(p)).instance=void 0,k=t((z=K).prototype,"nineSprite",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(z.prototype,"eightSprite",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(z.prototype,"sevenSprite",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(z.prototype,"sixSprite",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(z.prototype,"fiveSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(z.prototype,"fourSprite",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(z.prototype,"threeSprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=t(z.prototype,"twoSprite",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(z.prototype,"oneSprite",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(z.prototype,"IceSprite",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(z.prototype,"crackedIceSprite",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(z.prototype,"blockerprite",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=z))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/Signal.ts",["cc"],(function(t){var s;return{setters:[function(t){s=t.cclegacy}],execute:function(){s._RF.push({},"190a6ch2CNA/43GIE/jtCi0","Signal",void 0);t("Signal",function(){function t(){this.handlers=[],this.thisArgs=[]}var s=t.prototype;return s.on=function(t,s){this.handlers.push(t),this.thisArgs.push(s)},s.off=function(t){var s=this.handlers.indexOf(t);this.handlers.splice(s,1),this.thisArgs.splice(s,1)},s.trigger=function(t){for(var s=[].concat(this.handlers),i=[].concat(this.thisArgs),n=0;n<s.length;n++)s[n].call(i[n],t)},t}());s._RF.pop()}}}));

System.register("chunks:///_virtual/StringUtils.ts",["cc"],(function(t){var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){t("formatString",(function(t,r){for(var e=t,n=0;n<r.length;n++)e=e.replace("{"+n+"}",r[n]);return e})),r._RF.push({},"ceda7TLix5L05z7C78DFfxA","StringUtils",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/TestGameRunner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppRoot.ts","./GameRunner.ts","./AsyncUtils.ts","./UserData.ts","./Game.ts"],(function(e){var t,r,n,a,i,o,s,l,c,u,p,m,g,v,f,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.createForOfIteratorHelperLoose,o=e.asyncToGenerator,s=e.regeneratorRuntime},function(e){l=e.cclegacy,c=e._decorator,u=e.CCInteger,p=e.Component},function(e){m=e.AppRoot},function(e){g=e.GameRunner},function(e){v=e.delay},function(e){f=e.UserData},function(e){h=e.Game}],execute:function(){var y,b,d,L,G,T,w,x,D,R,P,S,z,I,U,A,M,X,j;l._RF.push({},"605c7sb1/tOhb3LnxAsxFGX","TestGameRunner",void 0);var H=c.ccclass,k=c.property;e("TestGameRunner",(y=H("TestGameRunner"),b=k(u),d=k(u),L=k(u),G=k(u),T=k(u),w=k(u),x=k(u),D=k(u),y((S=t((P=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,n(t,"startTime",S,a(t)),n(t,"startXP",z,a(t)),n(t,"maxHpLevel",I,a(t)),n(t,"bonusDamageLevel",U,a(t)),n(t,"projectilePiercingLevel",A,a(t)),n(t,"movementSpeedLevel",M,a(t)),n(t,"xpGathererLevel",X,a(t)),n(t,"goldGathererLevel",j,a(t)),t}r(t,e);var l=t.prototype;return l.start=function(){g.Instance.IsRunning||this.playTestGameAsync()},l.playTestGameAsync=function(){var e=o(s().mark((function e(){var t,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=h.Instance&&null!=m.Instance){e.next=5;break}return e.next=3,v(100);case 3:e.next=0;break;case 5:(t=new f).game.metaUpgrades.healthLevel=this.maxHpLevel,t.game.metaUpgrades.overallDamageLevel=this.bonusDamageLevel,t.game.metaUpgrades.projectilePiercingLevel=this.projectilePiercingLevel,t.game.metaUpgrades.movementSpeedLevel=this.movementSpeedLevel,t.game.metaUpgrades.xpGathererLevel=this.xpGathererLevel,t.game.metaUpgrades.goldGathererLevel=this.goldGathererLevel,r=this.getTimeModifiedSettings(m.Instance.Settings),h.Instance.play(t,r,m.Instance.TranslationData,{startTime:this.startTime,startXP:this.startXP});case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.getTimeModifiedSettings=function(e){for(var t,r=[].concat(e.enemyManager.circularEnemySpawners,e.enemyManager.individualEnemySpawners,e.enemyManager.waveEnemySpawners),n=i(r);!(t=n()).done;){var a=t.value;a.common.startDelay-=this.startTime,a.common.stopDelay-=this.startTime}return e},t}(p)).prototype,"startTime",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),z=t(P.prototype,"startXP",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=t(P.prototype,"maxHpLevel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=t(P.prototype,"bonusDamageLevel",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),A=t(P.prototype,"projectilePiercingLevel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=t(P.prototype,"movementSpeedLevel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),X=t(P.prototype,"xpGathererLevel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),j=t(P.prototype,"goldGathererLevel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),R=P))||R)),e("TestValues",(function(){this.startTime=0,this.startXP=0}));l._RF.pop()}}}));

System.register("chunks:///_virtual/TileAnimationManager.ts",["cc","./TweenAnimations.ts"],(function(n){var t,e,i,a;return{setters:[function(n){t=n.cclegacy,e=n._decorator,i=n.tween},function(n){a=n.default}],execute:function(){var o;t._RF.push({},"f4304KQmDRNV6t00hei+B4w","TileAnimationManager",void 0);var r=e.ccclass;n("TileAnimationManager",r("TileAnimationManager")(o=function(){function n(){}var t=n.prototype;return t.animateTileDrop=function(n,t,e,a,o){var r=Math.abs(t.y-e.y)/a;return new Promise((function(t){i(n).to(r,{position:e}).call((function(){o(n),t()})).start()}))},t.animateTileDestroy=function(n,t){return void 0===t&&(t=.5),new Promise((function(e){a.shake(30,t,n).call((function(){n.active=!1,n.destroy(),e()})).start()}))},n}())||o);t._RF.pop()}}}));

System.register("chunks:///_virtual/TileItemUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Signal.ts","./ConsoleLogger.ts","./TweenAnimations.ts","./GameBoardManager.ts"],(function(e){var t,n,i,r,o,l,a,u,c,s,p,f,h,m,d,y,v,T;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass,l=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){u=e.cclegacy,c=e._decorator,s=e.Label,p=e.Sprite,f=e.Animation,h=e.tween,m=e.Component},function(e){d=e.Signal},function(e){y=e.default},function(e){v=e.default},function(e){T=e.default}],execute:function(){var g,_,I,b,w,k,S,C,D;u._RF.push({},"f7c88RVshdAqZbpSaN40N4d","TileItemUI",void 0);var E=c.ccclass,P=c.property;e("TileItemUI",(g=E("TileItemUI"),_=P(s),I=P(p),b=P(f),g((S=t((k=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,i(t,"numberText",S,r(t)),i(t,"tileSprite",C,r(t)),i(t,"animation",D,r(t)),t._row=void 0,t._col=void 0,t._tileNum=void 0,t._tileType=void 0,t.onTileItemClickedEvent=new d,t.onTileSettledInPlaceEvent=new d,t._tileMatched=void 0,t._markForDeletion=!1,t}n(t,e);var u=t.prototype;return u.init=function(e){y.instance.debug("TileItemUI Tile Init Called!"),this._row=e.row,this._col=e.col,this._tileNum=e.tilenumber,this.numberText.string=this._tileNum.toString(),this.tileSprite.spriteFrame=e.tileSprite,this._tileType=e.tileType,this._tileMatched=0,this._markForDeletion=!0},u.playIdleAnimation=function(){},u.canBeDeleted=function(){return!0},u.SetRowCol=function(e,t){this._row=e,this._col=t},u.onTileClick=function(){this.onTileItemClickedEvent.trigger(this)},u.destroyTile=function(){var e=l(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.playDestroyAnim());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),u.playDestroyAnim=function(){var e=l(a().mark((function e(){var t=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){v.shake(30,.5,t.node).call((function(){t.node.destroy(),e(!0)})).start()})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u.moveToPosition=function(e){var t=this,n=this.node.position,i=Math.abs(n.y-e.y)/T.Instance.Speed();return h(this.node).to(i,{position:e}).call((function(){return t.onMoveComplete()}))},u.onMoveComplete=function(){y.instance.info("Block moved to position!"),this.onTileSettledInPlaceEvent.trigger(this)},u.checkForDestoryCondition=function(){return!0},u.getTileType=function(){return this._tileType},o(t,[{key:"Row",get:function(){return this._row}},{key:"Col",get:function(){return this._col}},{key:"TileNum",get:function(){return this._tileNum}},{key:"OnTileItemClickedEvent",get:function(){return this.onTileItemClickedEvent}},{key:"OnTileSettledInPlaceEvent",get:function(){return this.onTileSettledInPlaceEvent}}]),t}(m)).prototype,"numberText",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(k.prototype,"tileSprite",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(k.prototype,"animation",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=k))||w));u._RF.pop()}}}));

System.register("chunks:///_virtual/TranslationData.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"8711bkjTmxK1rqJAGFFDUSh","TranslationData",void 0);t("TranslationData",(function(){}));n._RF.pop()}}}));

System.register("chunks:///_virtual/TurnManager.ts",["cc","./GameConstants.ts"],(function(r){var n,t;return{setters:[function(r){n=r.cclegacy},function(r){t=r.EnMechanicType}],execute:function(){n._RF.push({},"4913cOorwJOmrqN8F2Gi6sw","TurnManager",void 0);r("TurnManager",function(){function r(){}var n=r.prototype;return n.createTurnsArray=function(){for(var r=[],n=0;n<100;n++)r.push({mechanic:this.getMechanicForIndex(n),turns:this.getTurnsForIndex(n)});return r},n.getMechanicForIndex=function(r){return Math.random()<.6?t.HighEnder:t.Ice},n.getTurnsForIndex=function(r){if(r<10)return 20-Math.floor(r/3);if(r<30){var n=r-10;return Math.max(17-Math.floor(n/4),14)}if(r<60){var t=r-30;return Math.max(15-Math.floor(t/10),11)}if(r<80){var e=r-60;return Math.max(12-Math.floor(e/7),9)}if(r<100){var a=r-80;return Math.max(10-Math.floor(a/10),8)}return 6},r}());n._RF.pop()}}}));

System.register("chunks:///_virtual/TweenAnimations.ts",["cc"],(function(n){var e,t,a;return{setters:[function(n){e=n.cclegacy,t=n._decorator,a=n.tween}],execute:function(){var o;e._RF.push({},"a6fa7Gt6x1NeLk0LEt8caUL","TweenAnimations",void 0);var c=t.ccclass;n("default",c(o=function(){function n(){}return n.shake=function(n,e,t){void 0===n&&(n=2),void 0===e&&(e=.5);var o=t.angle;return a(t).to(e/6,{angle:o+n}).to(e/6,{angle:o-n}).to(e/6,{angle:o+n}).to(e/6,{angle:o-n}).to(e/6,{angle:o+n}).to(e/6,{angle:o})},n}())||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/UIButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Signal.ts"],(function(t){var n,e,i,o,r,c,s;return{setters:[function(t){n=t.inheritsLoose,e=t.createClass},function(t){i=t.cclegacy,o=t._decorator,r=t.Node,c=t.Component},function(t){s=t.Signal}],execute:function(){var a;i._RF.push({},"55e5f5nQ8dHiL5fPWjgdXbH","UIButton",void 0);var u=o.ccclass;o.property,t("UIButton",u("UIButton")(a=function(t){function i(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).interactedEvent=new s,n}n(i,t);var o=i.prototype;return o.start=function(){this.node.on(r.EventType.TOUCH_START,this.interact,this)},o.onDisable=function(){this.node.off(r.EventType.TOUCH_START,this.interact,this)},o.interact=function(){console.log("interact"),this.interactedEvent.trigger(this)},e(i,[{key:"InteractedEvent",get:function(){return this.interactedEvent}}]),i}(c))||a);i._RF.pop()}}}));

System.register("chunks:///_virtual/UIButtonAudioPlayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppRoot.ts","./UIButton.ts"],(function(t){var n,o,e,i,r,u,a,c,s;return{setters:[function(t){n=t.applyDecoratedDescriptor,o=t.inheritsLoose,e=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,u=t._decorator,a=t.Component},function(t){c=t.AppRoot},function(t){s=t.UIButton}],execute:function(){var l,p,y,f,d;r._RF.push({},"146cdU9Cw9I+otUVSgpwCCT","UIButtonAudioPlayer",void 0);var h=u.ccclass,I=u.property;t("UIButtonAudioPlayer",(l=h("UIButtonAudioPlayer"),p=I(s),l((d=n((f=function(t){function n(){for(var n,o=arguments.length,r=new Array(o),u=0;u<o;u++)r[u]=arguments[u];return n=t.call.apply(t,[this].concat(r))||this,e(n,"button",d,i(n)),n}o(n,t);var r=n.prototype;return r.start=function(){this.button.InteractedEvent.on(this.playButtonClick,this)},r.onDisable=function(){this.button.InteractedEvent.off(this.playButtonClick)},r.playButtonClick=function(){var t=c.Instance.GameAssets.AudioAssets.buttonClick;c.Instance.AudioPlayer.playSound(t)},n}(a)).prototype,"button",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=f))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,i,n,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.initializerDefineProperty},function(e){i=e.cclegacy,n=e._decorator,l=e.Label}],execute:function(){var a,o,c,u,s,b,h,p,g;i._RF.push({},"258108Ah91D5L4G4FEfPTb2","UIManager",void 0);var f=n.ccclass,L=n.property;e("UIManager",(a=f("UIManager"),o=L(l),c=L(l),u=L(l),a((h=t((b=function(){function e(){r(this,"scoreLabel",h,this),r(this,"highScoreLabel",p,this),r(this,"levelLabel",g,this)}var t=e.prototype;return t.updateScore=function(e,t){this.scoreLabel&&(this.scoreLabel.string=e.toString()),this.highScoreLabel&&(this.highScoreLabel.string=t.toString())},t.updateLevel=function(e){this.levelLabel&&(this.levelLabel.string=e.toString())},e}()).prototype,"scoreLabel",[o],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=t(b.prototype,"highScoreLabel",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=t(b.prototype,"levelLabel",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),s=b))||s));i._RF.pop()}}}));

System.register("chunks:///_virtual/UnitHealth.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Signal.ts"],(function(t){var n,e,i;return{setters:[function(t){n=t.createClass},function(t){e=t.cclegacy},function(t){i=t.Signal}],execute:function(){e._RF.push({},"149728dgAlNOYpvVTrhs6AR","UnitHealth",void 0);t("UnitHealth",function(){function t(t){this.healthPoints=void 0,this.maxHealthPoints=void 0,this.healthPointsChangeEvent=new i,this.maxHealthPoints=t,this.healthPoints=t}var e=t.prototype;return e.heal=function(t){this.healthPoints=Math.min(this.maxHealthPoints,this.healthPoints+t),this.healthPointsChangeEvent.trigger(t)},e.damage=function(t){this.healthPoints-=t,this.healthPointsChangeEvent.trigger(-t)},e.setMaxHealth=function(t){this.maxHealthPoints=t},n(t,[{key:"IsAlive",get:function(){return 0<this.healthPoints}},{key:"HealthPoints",get:function(){return this.healthPoints}},{key:"MaxHealthPoints",get:function(){return this.maxHealthPoints}},{key:"HealthPointsChangeEvent",get:function(){return this.healthPointsChangeEvent}}]),t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/UnitLevel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Signal.ts"],(function(e){var t,i,n;return{setters:[function(e){t=e.createClass},function(e){i=e.cclegacy},function(e){n=e.Signal}],execute:function(){i._RF.push({},"61e760eFahCzJkNuceEjdqz","UnitLevel",void 0);e("UnitLevel",function(){function e(e,t){this.xp=0,this.currentLevel=0,this.levelUpEvent=new n,this.xpAddedEvent=new n,this.requiredXPs=e,this.xpMultiplier=t}var i=e.prototype;return i.addXp=function(e){this.xp+=e*this.xpMultiplier,this.xpAddedEvent.trigger(this.xp),this.tryLevelUp()},i.tryLevelUp=function(){this.requiredXPs.length<=this.currentLevel||this.xp<this.requiredXPs[this.currentLevel]||(this.xp-=this.requiredXPs[this.currentLevel],this.currentLevel++,this.levelUpEvent.trigger(this.currentLevel),this.tryLevelUp())},t(e,[{key:"XP",get:function(){return this.xp}},{key:"RequiredXP",get:function(){return this.requiredXPs[this.currentLevel]}},{key:"LevelUpEvent",get:function(){return this.levelUpEvent}},{key:"XpAddedEvent",get:function(){return this.xpAddedEvent}}]),e}());i._RF.pop()}}}));

System.register("chunks:///_virtual/UpgradeIcons.ts",["cc"],(function(){var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"c397biITvtFvqyVIZApPuax","UpgradeIcons",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/UpgradeLevelPointUI.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,i,n,a,o,c,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,c=e.Node,p=e.Component}],execute:function(){var u,l,s,d,g;a._RF.push({},"10d0fuUwd1E24b6fVo7KYFK","UpgradeLevelPointUI",void 0);var f=o.ccclass,h=o.property;e("UpgradeLevelPointUI",(u=f("UpgradeLevelPointUI"),l=h(c),u((g=r((d=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a))||this,i(r,"upgradedGraphics",g,n(r)),r}t(r,e);var a=r.prototype;return a.init=function(){this.upgradedGraphics.active=!1},a.upgrade=function(){this.upgradedGraphics.active=!0},r}(p)).prototype,"upgradedGraphics",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),s=d))||s));a._RF.pop()}}}));

System.register("chunks:///_virtual/Upgrader.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,o;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){o=e.cclegacy}],execute:function(){o._RF.push({},"51a093X7GNA3aDOGhZjLxb6","Upgrader",void 0);e("Upgrader",function(){function e(e){this.typeToAction=new Map,this.typeToLevel=new Map,this.typeToMaxLevel=new Map}var o=e.prototype;return o.upgradeSkill=function(e){if(!this.typeToAction.has(e))throw new Error("Upgrade does not have "+e);if(this.isMaxLevel(e))throw new Error("Upgrade is already at max level "+e);this.typeToAction.get(e)();var t=this.typeToLevel.get(e);this.typeToLevel.set(e,t+1)},o.getAvailableUpgrades=function(){for(var e,o=new Set,r=t(this.typeToAction.keys());!(e=r()).done;){var i=e.value;this.isMaxLevel(i)||o.add(i)}return o},o.setTypeMaps=function(e,t,o){this.typeToAction.set(e,t),this.typeToLevel.set(e,0),this.typeToMaxLevel.set(e,o)},o.isMaxLevel=function(e){return this.typeToMaxLevel.get(e)<=this.typeToLevel.get(e)},e}());o._RF.pop()}}}));

System.register("chunks:///_virtual/UpgradesModalWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppRoot.ts","./ModalWindow.ts","./UpgradeUI.ts","./UpgradeType.ts"],(function(e){var t,a,r,o,i,n,s,l,p,g,u,d,c,h,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,n=e._decorator,s=e.Prefab,l=e.Node,p=e.Label,g=e.AudioClip,u=e.instantiate},function(e){d=e.AppRoot},function(e){c=e.ModalWindow},function(e){h=e.UpgradeUI},function(e){y=e.MetaUpgradeType}],execute:function(){var v,U,m,f,L,b,D,T,P,w,C;i._RF.push({},"854a4tmkIROzYFPAwDxL3/z","UpgradesModalWindow",void 0);var B=n.ccclass,M=n.property;e("UpgradesModalWindow",(v=B("UpgradesModalWindow"),U=M(s),m=M(l),f=M(p),L=M(g),v((T=t((D=function(e){function t(){for(var t,a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return t=e.call.apply(e,[this].concat(i))||this,r(t,"upgradeButtonPrefab",T,o(t)),r(t,"upgradeButtonParent",P,o(t)),r(t,"goldCoinsLabel",w,o(t)),r(t,"upgradeAudioClip",C,o(t)),t.typeToLevel=new Map,t.typeToCosts=new Map,t.typeToLevelKey=new Map,t.typeToUpgradeUI=new Map,t.userData=void 0,t}a(t,e);var i=t.prototype;return i.setup=function(){this.userData=d.Instance.LiveUserData;var e=d.Instance.Settings.metaUpgrades;this.createUpgradeButton(y.Health,e.health,"healthLevel"),this.createUpgradeButton(y.OverallDamage,e.overallDamage,"overallDamageLevel"),this.createUpgradeButton(y.ProjectilePiercing,e.projectilePiercing,"projectilePiercingLevel"),this.createUpgradeButton(y.MovementSpeed,e.movementSpeed,"movementSpeedLevel"),this.createUpgradeButton(y.XPGatherer,e.xpGatherer,"xpGathererLevel"),this.createUpgradeButton(y.GoldGatherer,e.goldGatherer,"goldGathererLevel"),this.goldCoinsLabel.string=this.userData.game.goldCoins.toString()},i.createUpgradeButton=function(e,t,a){var r=u(this.upgradeButtonPrefab),o=r.getComponent(h);o.init(e,t,this.userData.game.metaUpgrades[a],d.Instance.TranslationData),r.setParent(this.upgradeButtonParent),this.typeToLevel.set(e,this.userData.game.metaUpgrades[a]),this.typeToCosts.set(e,t.costs),this.typeToLevelKey.set(e,a),this.typeToUpgradeUI.set(e,o)},i.tryUpgrade=function(e){console.log("Trying to upgrade "+e);var t=this.typeToCosts.get(e),a=this.typeToLevel.get(e);if(!(t.length<=a||this.userData.game.goldCoins<t[a])){d.Instance.AudioPlayer.playSound(this.upgradeAudioClip),this.userData.game.goldCoins-=t[a];var r=++this.userData.game.metaUpgrades[this.typeToLevelKey.get(e)];this.typeToUpgradeUI.get(e).updateLevel(r),this.typeToLevel.set(e,r),this.goldCoinsLabel.string=this.userData.game.goldCoins.toString(),d.Instance.saveUserData()}},t}(c)).prototype,"upgradeButtonPrefab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=t(D.prototype,"upgradeButtonParent",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(D.prototype,"goldCoinsLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(D.prototype,"upgradeAudioClip",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=D))||b)),e("Empty",(function(){}));i._RF.pop()}}}));

System.register("chunks:///_virtual/UpgradeType.ts",["cc"],(function(e){var E;return{setters:[function(e){E=e.cclegacy}],execute:function(){E._RF.push({},"a481cMctrpIcbjX8VF4ikUK","UpgradeType",void 0);e("UpgradeType",function(e){return e.WeaponLength="WEAPON_LENGTH",e.WeaponDamage="WEAPON_DAMAGE",e.HorizontalProjectile="HORIZONTAL_PROJECTILE",e.DiagonalProjectile="DIAGONAL_PROJECTILE",e.HaloProjectlie="HALO_PROJECTILE",e.Regeneration="REGENERATION",e}({})),e("MetaUpgradeType",function(e){return e.Health="META_HEALTH",e.OverallDamage="META_OVERALL_DAMAGE",e.ProjectilePiercing="META_PROJECTILE_PIERCING",e.MovementSpeed="META_MOVEMENT_SPEED",e.XPGatherer="META_XP_GATHERER",e.GoldGatherer="META_GOLD_GATHERER",e}({}));E._RF.pop()}}}));

System.register("chunks:///_virtual/UpgradeUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppRoot.ts","./Signal.ts","./UIButton.ts","./StringUtils.ts","./UpgradeLevelPointUI.ts"],(function(e){var t,i,n,r,a,o,l,s,u,p,c,g,d,v,h,b,f,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,l=e._decorator,s=e.Prefab,u=e.Node,p=e.Label,c=e.Sprite,g=e.instantiate,d=e.Component},function(e){v=e.AppRoot},function(e){h=e.Signal},function(e){b=e.UIButton},function(e){f=e.formatString},function(e){P=e.UpgradeLevelPointUI}],execute:function(){var y,U,I,m,S,L,w,z,D,T,_,x,B,E,F,A,C,R,H;o._RF.push({},"76eda6MFrpILZH9KDOZFHWs","UpgradeUI",void 0);var M=l.ccclass,k=l.property;e("UpgradeUI",(y=M("UpgradeUI"),U=k(s),I=k(u),m=k(p),S=k(p),L=k(p),w=k(p),z=k(c),D=k(b),y((x=t((_=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,n(t,"levelPointPrefab",x,r(t)),n(t,"levelPointsParent",B,r(t)),n(t,"title",E,r(t)),n(t,"description",F,r(t)),n(t,"cost",A,r(t)),n(t,"maxLevel",C,r(t)),n(t,"icon",R,r(t)),n(t,"uiButton",H,r(t)),t.interactedEvent=new h,t.upgradeType=void 0,t.upgradeSettings=void 0,t.translationData=void 0,t.levelPointUIs=[],t}i(t,e);var o=t.prototype;return o.init=function(e,t,i,n){this.upgradeType=e,this.upgradeSettings=t,this.translationData=n,this.icon.spriteFrame=v.Instance.GameAssets.MetaUpgradeIcons.getIcon(e),this.title.string=""+n[e+"_TITLE"];for(var r=0;r<this.upgradeSettings.bonuses.length;r++){var a=g(this.levelPointPrefab);a.setParent(this.levelPointsParent);var o=a.getComponent(P);o.init(),this.levelPointUIs.push(o)}this.updateLevel(i)},o.updateLevel=function(e){for(var t=0;t<this.levelPointUIs.length;t++)t<e&&this.levelPointUIs[t].upgrade();e<this.upgradeSettings.bonuses.length?(this.maxLevel.node.active=!1,this.description.string=f(""+this.translationData[this.upgradeType+"_DESC"],[this.upgradeSettings.bonuses[e].toString()]),this.cost.string=this.upgradeSettings.costs[e].toString()):(this.maxLevel.node.active=!0,this.cost.node.active=!1,this.description.node.active=!1)},a(t,[{key:"InteractedEvent",get:function(){return this.interactedEvent}}]),t}(d)).prototype,"levelPointPrefab",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=t(_.prototype,"levelPointsParent",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(_.prototype,"title",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(_.prototype,"description",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=t(_.prototype,"cost",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(_.prototype,"maxLevel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=t(_.prototype,"icon",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(_.prototype,"uiButton",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=_))||T));o._RF.pop()}}}));

System.register("chunks:///_virtual/UserData.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"7431f98SAxEdJQ0ZU7aChoI","UserData",void 0);e("UserData",(function(){this.soundVolume=1,this.musicVolume=1,this.game=new a}));var a=e("GameData",(function(){this.goldCoins=0,this.metaUpgrades=new s,this.highscore=0,this.maxLevelReached=0})),s=e("MetaUpgradesData",(function(){this.healthLevel=0,this.overallDamageLevel=0,this.projectilePiercingLevel=0,this.movementSpeedLevel=0,this.xpGathererLevel=0,this.goldGathererLevel=0}));t._RF.pop()}}}));

System.register("chunks:///_virtual/VecUtils.ts",["cc"],(function(t){var e,c;return{setters:[function(t){e=t.cclegacy,c=t.Vec3}],execute:function(){t("getDirection",(function(t,e){var n=new c;return c.subtract(n,t,e).normalize()})),e._RF.push({},"06778nDdI9GQ4KvvTMhbu4w","VecUtils",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/VirtualJoystic.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,e,o,n,s,a,c,r,u,l,h,y,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.classPrivateFieldLooseBase,a=t.classPrivateFieldLooseKey},function(t){c=t.cclegacy,r=t._decorator,u=t.CCFloat,l=t.Node,h=t.Vec2,y=t.Vec3,p=t.Component}],execute:function(){var v,f,b,d,g,m,J,w,x;c._RF.push({},"a51b2i8TvBDJJf8RPlkzgh6","VirtualJoystic",void 0);var D=r.ccclass,L=r.property;t("VirtualJoystic",(v=D("VirtualJoystic"),f=L(u),b=L(l),v((w=a("isUsingJoystic"),x=a("defaultPosition"),m=i((g=function(t){function i(){for(var i,e=arguments.length,s=new Array(e),a=0;a<e;a++)s[a]=arguments[a];return i=t.call.apply(t,[this].concat(s))||this,o(i,"maxDistance",m,n(i)),o(i,"knob",J,n(i)),Object.defineProperty(n(i),w,{writable:!0,value:!1}),Object.defineProperty(n(i),x,{writable:!0,value:new h}),i}e(i,t);var a=i.prototype;return a.init=function(){this.deactivateJoystic()},a.getAxis=function(){return s(this,w)[w]?new h(this.knob.position.x/this.maxDistance,this.knob.position.y/this.maxDistance):new h},a.activateTouchJoystic=function(t){this.activateJoystic(t.getUILocation())},a.activateMouseJoystic=function(t){console.log(t.getUILocation()),this.activateJoystic(t.getUILocation())},a.activateJoystic=function(t){s(this,w)[w]=!0,this.node.active=!0,s(this,x)[x]=t,this.node.setPosition(new y(s(this,x)[x].x,s(this,x)[x].y,0)),this.knob.position=new y},a.deactivateJoystic=function(){s(this,w)[w]=!1,this.node.active=!1},a.moveKnobTouch=function(t){this.moveKnob(t.getUILocation())},a.moveKnobMouse=function(t){this.moveKnob(t.getUILocation())},a.moveKnob=function(t){if(s(this,w)[w]){var i=t.subtract(s(this,x)[x]),e=i.x,o=i.y,n=Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2));if(this.maxDistance<n){var a=this.maxDistance/n;e*=a,o*=a}this.knob.position=new y(e,o,0)}},i}(p)).prototype,"maxDistance",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),J=i(g.prototype,"knob",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=g))||d));c._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});